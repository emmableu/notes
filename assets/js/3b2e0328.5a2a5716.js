"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[5494],{23085:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>d,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Leetcode/Other/398.398 - Random Pick Index - Medium","title":"398.398 - Random Pick Index - Medium","description":"Description:","source":"@site/docs/Leetcode/99.Other/398.398 - Random Pick Index - Medium.md","sourceDirName":"Leetcode/99.Other","slug":"/p/4afb6e61-3869-4b38-990a-cd715e8d11a7","permalink":"/notes/docs/p/4afb6e61-3869-4b38-990a-cd715e8d11a7","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/99.Other/398.398 - Random Pick Index - Medium.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/4afb6e61-3869-4b38-990a-cd715e8d11a7","slug":"/p/4afb6e61-3869-4b38-990a-cd715e8d11a7"},"sidebar":"tutorialSidebar","previous":{"title":"393.393 - UTF-8 Validation - Medium","permalink":"/notes/docs/p/d357fd86-d0c2-46d4-ba0b-6a42929b6d1b"},"next":{"title":"400.400 - Nth Digit - Medium","permalink":"/notes/docs/p/b4c8d53d-9515-4cad-9c09-df06638d61b8"}}');var r=i(74848),s=i(28453);const d={created_at:"2025-10-23",page_link:"/p/4afb6e61-3869-4b38-990a-cd715e8d11a7",slug:"/p/4afb6e61-3869-4b38-990a-cd715e8d11a7"},l=void 0,o={},c=[{value:"Description:",id:"description",level:2},{value:"Example",id:"example",level:2},{value:"Solution: \u84c4\u6c34\u6c60\u62bd\u6837(random reservoir sampling)",id:"solution-\u84c4\u6c34\u6c60\u62bd\u6837random-reservoir-sampling",level:2}];function a(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"description",children:"Description:"}),"\n",(0,r.jsx)(n.p,{children:"Given an integer array nums with possible duplicates, randomly output the index of a given target number. You can assume that the given target number must exist in the array."}),"\n",(0,r.jsx)(n.p,{children:"Implement the Solution class:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Solution(int[] nums)"})," Initializes the object with the array nums."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"int pick(int target)"})," Picks a random index i from nums where nums[i] == target. If there are multiple valid i's, then each index should have an equal probability of returning."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"\u7ed9\u5b9a\u4e00\u4e2a\u53ef\u80fd\u542b\u6709\u91cd\u590d\u5143\u7d20\u7684\u6574\u6570\u6570\u7ec4\uff0c\u8981\u6c42\u968f\u673a\u8f93\u51fa\u7ed9\u5b9a\u7684\u6570\u5b57\u7684\u7d22\u5f15\u3002 \u60a8\u53ef\u4ee5\u5047\u8bbe\u7ed9\u5b9a\u7684\u6570\u5b57\u4e00\u5b9a\u5b58\u5728\u4e8e\u6570\u7ec4\u4e2d\u3002"}),"\n",(0,r.jsx)(n.p,{children:"\u6ce8\u610f\uff1a\n\u6570\u7ec4\u5927\u5c0f\u53ef\u80fd\u975e\u5e38\u5927\u3002 \u4f7f\u7528\u592a\u591a\u989d\u5916\u7a7a\u95f4\u7684\u89e3\u51b3\u65b9\u6848\u5c06\u4e0d\u4f1a\u901a\u8fc7\u6d4b\u8bd5\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Input\n["Solution", "pick", "pick", "pick"]\n[[[1, 2, 3, 3, 3]], [3], [1], [3]]\nOutput\n[null, 4, 0, 2]\n\nExplanation\nSolution solution = new Solution([1, 2, 3, 3, 3]);\nsolution.pick(3); // It should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.\nsolution.pick(1); // It should return 0. Since in the array only nums[0] is equal to 1.\nsolution.pick(3); // It should return either index 2, 3, or 4 randomly. Each index should have equal probability of returning.\n'})}),"\n",(0,r.jsx)(n.h2,{id:"solution-\u84c4\u6c34\u6c60\u62bd\u6837random-reservoir-sampling",children:"Solution: \u84c4\u6c34\u6c60\u62bd\u6837(random reservoir sampling)"}),"\n",(0,r.jsxs)(n.p,{children:["\u4ee5 example \u4e2d\u7684 ",(0,r.jsx)(n.code,{children:"nums"})," = ",(0,r.jsx)(n.code,{children:"[1,2,3,3,3]"}),", ",(0,r.jsx)(n.code,{children:"target"})," = ",(0,r.jsx)(n.code,{children:"3"})," \u4e3a\u4f8b\uff0c \u9700\u8981\u7684\u53d8\u91cf\uff1a"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cnt"}),": \u9047\u5230target\u7684\u6b21\u6570"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"res"}),": \u6bcf\u6b21\u9047\u5230target\u5143\u7d20\u5c31\u6309\u4e0d\u540c\u7684\u6982\u7387\u66f4\u65b0 ",(0,r.jsx)(n.code,{children:"res"}),". \u7b2c\u4e00\u6b21\uff1a1/1\uff0c \u7b2c\u4e8c\u6b21\uff1a 1/2\uff0c \u7b2c\u4e09\u6b21 1/3\u3002\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4e3a\u4ec0\u4e48 \u8fd9\u6837\u5f97\u5230\u7684\u4e0d\u540c\u6570\u5b57\u7559\u4e0b\u7684\u6982\u7387\u4e00\u6837\uff1f \u5047\u8bbe\u603b\u5171\u4e09\u4e2a\u91cd\u590d\u5143\u7d20\uff1a\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6570\u636e1\u88ab\u7559\u4e0b\uff1a\uff081/2\uff09(2/3) = 1/3"}),"\n",(0,r.jsx)(n.li,{children:"\u6570\u636e2\u88ab\u7559\u4e0b\u6982\u7387\uff1a\uff081/2\uff09(2/3) = 1/3"}),"\n",(0,r.jsx)(n.li,{children:"\u6570\u636e3\u88ab\u7559\u4e0b\u6982\u7387\uff1a1/3"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"\u6240\u4ee5\u6982\u7387\u662f\u4e00\u6837\u7684"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\u600e\u4e48\u66f4\u65b0",(0,r.jsx)(n.code,{children:"res"}),":\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728\u6bcf\u6b21iteration\u65f6\uff0c\u5982\u679c\u5f53\u524d\u5143\u7d20=target\uff0c\u627e\u4e00\u4e2a",(0,r.jsx)(n.code,{children:"randint = randint(1,cnt)"}),",\u5982\u679c",(0,r.jsx)(n.code,{children:"randint=cnt"}),"\uff0c",(0,r.jsx)(n.code,{children:"res=\u5f53\u524dindex"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def __init__(self, nums):\n        self.nums = nums\n    def pick(self, target):\n        cnt,res = 0, 0\n        for i, ele in enumerate(self.nums):\n            if target == ele:\n                cnt += 1\n                randint = random.randint(1, cnt)\n                if randint == cnt:\n                    res = i\n        return res\n"})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);