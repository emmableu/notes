"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[1667],{9291:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Leetcode/BFS/1293.1293 - Shortest Path in a Grid with Obstacles Elimination - Hard","title":"1293.1293 - Shortest Path in a Grid with Obstacles Elimination - Hard","description":"LC link","source":"@site/docs/Leetcode/01.BFS/1293.1293 - Shortest Path in a Grid with Obstacles Elimination - Hard.md","sourceDirName":"Leetcode/01.BFS","slug":"/p/20691be8-2380-4c54-b056-0c3d053a1c08","permalink":"/notes/docs/p/20691be8-2380-4c54-b056-0c3d053a1c08","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/01.BFS/1293.1293 - Shortest Path in a Grid with Obstacles Elimination - Hard.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/20691be8-2380-4c54-b056-0c3d053a1c08","slug":"/p/20691be8-2380-4c54-b056-0c3d053a1c08"},"sidebar":"tutorialSidebar","previous":{"title":"1284.1284 - Minimum Number of Flips to Convert Binary Matrix to Zero Matrix - Hard","permalink":"/notes/docs/p/ac591e43-ceff-49cc-b091-f865af1df4df"},"next":{"title":"1345.1345 - Jump Game IV - Hard","permalink":"/notes/docs/p/1eef1756-eb2a-4f9d-964e-a69ebf2acecf"}}');var i=s(74848),r=s(28453);const c={created_at:"2025-10-23",page_link:"/p/20691be8-2380-4c54-b056-0c3d053a1c08",slug:"/p/20691be8-2380-4c54-b056-0c3d053a1c08"},o=void 0,d={},l=[];function a(n){const e={a:"a",code:"code",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://leetcode.cn/problems/shortest-path-in-a-grid-with-obstacles-elimination/",children:"LC link"})}),"\n",(0,i.jsx)(e.img,{width:"842",alt:"image",src:"https://user-images.githubusercontent.com/41789327/178077011-96bd1cbe-f0de-4d90-88f4-464bfba9fadb.png"}),"\n",(0,i.jsx)(e.img,{width:"835",alt:"image",src:"https://user-images.githubusercontent.com/41789327/178077064-de49b8bf-cd60-4950-b1f5-b2303a7cfe43.png"}),"\n",(0,i.jsxs)(e.p,{children:["\u6839\u636e ",(0,i.jsx)(e.a,{href:"https://emmableu.github.io/blog/pages/8b354b/#_1-%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86",children:"BFS\u6a21\u7248"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"queue\u91cc\u9762\u5b58\u7684\u662f\u4e34\u65f6\uff08\u5728\u4e0b\u4e00\u5c42bfs\u91cc\u9762\uff09\u8981\u7528\u7684\u53d8\u91cf"}),"\n",(0,i.jsx)(e.li,{children:"vis\u91cc\u9762\u5b58\u7684\u662f\u5168\u5c40\u4e00\u76f4\u8981\u7528\u7684\u53d8\u91cf"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"\u9700\u8981\u5b9a\u4e49\u7684\u53d8\u91cf\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"obs"}),": \u8d70\u5230\u5f53\u524d\u4f4d\u7f6e\u9700\u8981\u6d88\u9664\u7684\u969c\u788d\u7269\uff0c\u5b58\u5728queue\u91cc\u9762"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"q"}),": ",(0,i.jsx)(e.code,{children:"[(r, c, obs)]"}),", \u6700\u8fd1\u7684\u8fd9\u6b21\u8d70\u5230r\uff0cc\u70b9\u7684\u65f6\u5019\uff0c\u6d88\u9664\u4e86\u591a\u5c11\u969c\u788d\u7269"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"vis"}),": \u548c\u539f\u6765\u7684matrix\u4e00\u6837\u5927\u7684matrix\uff0c \u8868\u793a",(0,i.jsx)(e.strong,{children:"\u8981\u8d70\u5230\u5f53\u524d\u70b9\uff0c\u6700\u591a\u8981\u6d88\u9664\u591a\u5c11\u969c\u788d\u7269"}),"\u3002\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["\u5728\u6269\u6563\u7684\u65f6\u5019\uff0c\u5224\u65ad\u5f53\u524d\u70b9\u662f\u5426\u8981\u88ab\u8fc7\u6ee4\uff08continue\uff09\u7684 \u4f9d\u636e\uff1a\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsxs)(e.strong,{children:["\u8bbf\u95ee\u5f53\u524d\u70b9\u4e0d\u4f1a\u5bfc\u81f4\u5220\u53bb",(0,i.jsx)(e.code,{children:"k + 1"}),"\u4e2a\u969c\u788d\u7269"]}),"\uff1a\u5982\u679c\u4e00\u4e2a\u70b9\u5df2\u7ecf\u88ab\u8bbf\u95ee\u8fc7\uff0c\u90a3\u4e48\u5f53\u65f6\u88ab\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u4f1a\u7559\u4e0b\u4e00\u4e2a\u5f53\u65f6\u8bbf\u95ee\u8fc7\u6d88\u9664\u7684\u969c\u788d\u7269\u7684\u6570\u91cf\uff0c\u8fd9\u4e2a\u6570\u91cf\u6700\u5927\u4e3ak\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u672c\u6b21\u8bbf\u95ee\u9700\u8981\u5220\u53bb\u7684\u969c\u788d\u7269\u6570\u91cf\u8981\u6bd4\u4e0a\u6b21\u8bbf\u95ee\u5220\u53bb\u7684\u969c\u788d\u7269\u6570\u91cf\u66f4\u5c11"}),"\uff1a \u672c\u6b21\u8bbf\u95ee\u7684\u65f6\u5019\uff0c\u5982\u679c\u65b0\u8d70\u5230\u8fd9\u4e2a\u70b9\u8981\u6d88\u9664\u7684\u969c\u788d\u7269\u6bd4\u4e0a\u6b21\u6765\u7684\u65f6\u5019\u8fd8\u8981\u591a\uff0c\u6216\u8005\u4e00\u6837\u591a\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u526a\u679d\uff0c\u76f4\u63a5\u4e0d\u628a\u8fd9\u4e2a\u70b9\u653e\u8fdbqueue\u91cc\u9762"]}),"\n"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u526a\u679d"}),"\uff1a\u56e0\u4e3a\u4e4b\u524d\u8d70\u5230\u8fd9\u4e2a\u70b9\u7684\u65f6\u5019\u7528\u4e86\u66f4\u5c11\u7684step\uff0c\u5e76\u4e14\u5c06\u6765\u8fd8\u6709\u66f4\u591a\u7684\u969c\u788d\u7269\u7684quota\u6ca1\u6709\u7528\u6389\uff0c\u6240\u4ee5\u4e4b\u524d\u8d70\u5230\u8fd9\u4e2a\u70b9\u7684\u65f6\u5019\u7684\u90a3\u4e2a\u8def\u7ebf\u662f\u66f4\u6709\u4f18\u52bf\u7684\u8def\u7ebf\uff0c\u6700\u540e\u5f97\u5230\u7684\u7ed3\u679c\u7684\u8def\u5f84\u957f\u5ea6\u53ea\u4f1a\u66f4\u5c0f\u3002"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u600e\u6837\u628a 1 \u548c 2 \u5408\u5e76\u8d77\u6765\u5728vis\u91cc\u9762\u4fdd\u5b58\uff1f"}),"\uff1a \u4e00\u5f00\u59cb\u7684\u65f6\u5019\u5c31\u521d\u59cb\u5316\u4e3avis\u91cc\u9762\u6bcf\u4e2a\u70b9\u90fd\u662f",(0,i.jsx)(e.code,{children:"k + 1"}),". \u8fc7\u6ee4\u7684\u65f6\u5019\u53ea\u8981\u5224\u65ad\u65b0\u4ea7\u751f\u7684\u9700\u8981\u5220\u53bb\u7684\u969c\u788d\u7269\u662f\u4e0d\u662f >= vis \u91cc\u9762\u5bf9\u5e94\u7684\u503c\uff0c\u5982\u679c\u662f\uff0c\u5c31\u8fc7\u6ee4\u3002"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"void BFS()\n{\n    \u5224\u65ad\u8fb9\u754c\u6761\u4ef6\uff0c\u662f\u5426\u80fd\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u7684\u3002\uff1a \u672c\u9898\u5982\u679c\u957f\u5bbd\u90fd\u662f1\uff0c \u5219\u8fd4\u56de 0\n\n    \u5b9a\u4e49\u961f\u5217\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5143\u7d20\u662f\u8d77\u59cb\u4f4d\u7f6e\uff1a \u961f\u5217\u7b2c\u4e00\u4e2a\u5143\u7d20\u662f[(0,0,0)], \u8868\u793a\u5728\uff080\uff0c0\uff09\u4f4d\u7f6e\u6d88\u9664\u7684\u969c\u788d\u7269\u65f60\u4e2a\n\n    \u5b9a\u4e49\u5907\u5fd8\u5f55(visited)\uff0c\u7528\u4e8e\u8bb0\u5f55\u5df2\u7ecf\u8bbf\u95ee\u7684\u4f4d\u7f6e\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5143\u7d20\u662f\u8d77\u59cb\u4f4d\u7f6e\uff1a vis \u7528\u4e00\u4e2a matrix\u8868\u793a\uff0c\n\n    \u521d\u59cb\u5316step = 0,\u6839\u636e\u5728\u54ea\u91cc\u8fd4\u56destep\uff0cstep\u4e5f\u53ef\u80fd\u521d\u59cb\u5316\u4e3a-1\n\n    while (\u961f\u5217\u4e0d\u4e3a\u7a7a) {\n        \u83b7\u53d6\u5f53\u524d\u961f\u5217\u4e2d\u7684\u5143\u7d20\u4e2a\u6570\u3002 size = len(q)\n        step += 1\n        for (\u5143\u7d20\u4e2a\u6570) {\n            \u53d6\u51fa\u4e00\u4e2a\u4f4d\u7f6e\u8282\u70b9\u3002(e.g., ele = q.popleft())    r, c, obs = q.popleft()\n            \u83b7\u53d6\u5b83\u5bf9\u5e94\u7684\u4e0b\u4e00\u4e2a\u6240\u6709\u7684\u8282\u70b9\u3002 for x, y in (r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1):\n            \u5982\u679c\u5f53\u524d\u6269\u6563\u7ed3\u679c == target: \uff08x == m - 1 and y == n - 1\uff09\n                return step\n            \u5982\u679c\u5f53\u524d\u6269\u6563\u7ed3\u679c not in vis:\n                                           new_obs = obs + grid[x][y]\n                \u8fc7\u6ee4\n                                      if not (0 <= x < m and 0 <= y < n):\n                                          continue\n                                      if new_obs >= vis[x][y]:\n                                          continue \n                \u5f53\u524d\u7684\u6269\u6563\u7ed3\u679c\u52a0\u5165temp\u3002  q.append((x, y, new_obs))\n                visited.add()           vis[x][y] = new_obs \n        }\n    }\n    \u8fd4\u56de (\u5982\u679c\u662fsearch\uff0c\u5219\u53ef\u80fd\u662f\u8fd4\u56de-1) return -1\n}\n"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from collections import deque\nclass Solution:\n    def shortestPath(self, grid: List[List[int]], k: int) -> int:\n        m, n = len(grid), len(grid[0])\n        if m == n == 1:\n            return 0\n        q = deque([(0, 0, 0)])\n        vis = [[k + 1 for i in range(n)] for j in range(m)]\n        step = 0\n        while q:\n            size = len(q)\n            step += 1\n            for _ in range(size):\n                r, c, obs = q.popleft()\n                for x, y in (r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1):\n                    if x == m-1 and y == n - 1:\n                        return step\n                    if not (0 <= x < m and 0 <= y < n):\n                        continue\n                    new_obs = obs + grid[x][y]\n                    if new_obs >= vis[x][y]:\n                        continue \n                    vis[x][y] = new_obs \n                    q.append((x, y, new_obs))\n        return -1\n"})})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>c,x:()=>o});var t=s(96540);const i={},r=t.createContext(i);function c(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:c(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);