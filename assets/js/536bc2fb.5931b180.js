"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[5544],{27749:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Leetcode/Other/359.359 - Logger Rate Limiter - Easy","title":"359.359 - Logger Rate Limiter - Easy","description":"LC link","source":"@site/docs/Leetcode/99.Other/359.359 - Logger Rate Limiter - Easy.md","sourceDirName":"Leetcode/99.Other","slug":"/p/2a2a7312-5367-47cf-be51-75cfe76c0059","permalink":"/notes/docs/p/2a2a7312-5367-47cf-be51-75cfe76c0059","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/99.Other/359.359 - Logger Rate Limiter - Easy.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/2a2a7312-5367-47cf-be51-75cfe76c0059","slug":"/p/2a2a7312-5367-47cf-be51-75cfe76c0059"},"sidebar":"tutorialSidebar","previous":{"title":"348.348 - Design Tic-Tac-Toe - Medium","permalink":"/notes/docs/p/97d09715-ee72-4b9f-ab72-977f100467ee"},"next":{"title":"378.378 - Kth Smallest Element in a Sorted Matrix - Medium","permalink":"/notes/docs/p/a092fb9d-9bfc-4245-9b1b-4414387fc54e"}}');var l=s(74848),i=s(28453);const r={created_at:"2025-10-23",page_link:"/p/2a2a7312-5367-47cf-be51-75cfe76c0059",slug:"/p/2a2a7312-5367-47cf-be51-75cfe76c0059"},o=void 0,d={},a=[{value:"Solution 1: HashMap (Not optimal, as space complexity is O(n))",id:"solution-1-hashmap-not-optimal-as-space-complexity-is-on",level:2},{value:"Solution 2: Two Dictionary (Preferred, Space Complexity O(m), m\u662f\u6bcf20\u5206\u949f\u7684unique message \u6570\u91cf)",id:"solution-2-two-dictionary-preferred-space-complexity-om-m\u662f\u6bcf20\u5206\u949f\u7684unique-message-\u6570\u91cf",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://leetcode.cn/problems/logger-rate-limiter/",children:"LC link"}),"\n",(0,l.jsx)(n.img,{width:"729",alt:"image",src:"https://user-images.githubusercontent.com/41789327/180637422-7b94da50-421e-4cc9-9473-fbd45b93f26f.png"})]}),"\n",(0,l.jsx)(n.h2,{id:"solution-1-hashmap-not-optimal-as-space-complexity-is-on",children:"Solution 1: HashMap (Not optimal, as space complexity is O(n))"}),"\n",(0,l.jsx)(n.p,{children:"\u6bd4\u5982\u5bf9\u4e8e\u8fdb\u53bb\u7684\u662f\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"logger = Logger()\nlogger.shouldPrintMessage(1, 'foo')\nlogger.shouldPrintMessage(2, 'bar')\nlogger.shouldPrintMessage(3, 'foo')\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"self.log_dict"}),"\u8fd9\u4e2adict\u7684\u53d8\u5316\u662f\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"logger = Logger() => self.log_dict = {}\nlogger.shouldPrintMessage(1, 'foo') => self.log_dict = {'foo': 11}\nlogger.shouldPrintMessage(2, 'bar') => self.log_dict = {'foo': 11, 'bar': 12}\nlogger.shouldPrintMessage(3, 'foo') => \u56e0\u4e3aself.log_dict['foo'] = 11 > 3, \u6240\u4ee5\u8fd4\u56defalse\uff0c self.log_dict \u4fdd\u6301\u4e0d\u53d8\uff0c\u8fd8\u662f {'foo': 11, 'bar': 12}\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4f46\u662f\u8fd9\u4e2a\u65b9\u6cd5\u7684\u95ee\u9898\u662f\u7a7a\u95f4\u590d\u6742\u5ea6\u592a\u9ad8\uff0c\u56e0\u4e3a\u51e0\u4e4e\u6bcf\u4e2aentry\u90fd\u4f1a\u88ab\u52a0\u8fdb ok \u8fd9\u4e2adictionary\u91cc\u9762\u53bb"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"class Logger:\n\tdef __init__(self):\n\t\tself.log_dict = {}\n\tdef shouldPrintMessage(self, timestamp, message):\n\t\tif timestamp < self.log_dict.get(message, 0):\n\t\t\treturn False\n\t\tself.log_dict[message] = timestamp + 10\n\t\treturn True\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Time complexity"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"O(1)"}),"\n",(0,l.jsx)(n.strong,{children:"Space complexity"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"O(n)"}),"\nThe disadvantage to this solution is that the memory usage never stops growing."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"solution-2-two-dictionary-preferred-space-complexity-om-m\u662f\u6bcf20\u5206\u949f\u7684unique-message-\u6570\u91cf",children:"Solution 2: Two Dictionary (Preferred, Space Complexity O(m), m\u662f\u6bcf20\u5206\u949f\u7684unique message \u6570\u91cf)"}),"\n",(0,l.jsx)(n.p,{children:"\u6bd4\u5982\u5bf9\u4e8e\u8fdb\u53bb\u7684\u662f\uff1a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"logger = Logger()\nlogger.shouldPrintMessage(5, 'a')\nlogger.shouldPrintMessage(6, 'b')\nlogger.shouldPrintMessage(7, 'a')\nlogger.shouldPrintMessage(13, 'a')\nlogger.shouldPrintMessage(40, 'b')\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e0b\u9762\u662fold_msg, new_msg, time_last_seen \u7684\u53d8\u5316\uff1a"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"input"}),(0,l.jsx)(n.th,{children:"old_msg"}),(0,l.jsx)(n.th,{children:"new_msg"}),(0,l.jsx)(n.th,{children:"time_last_seen"}),(0,l.jsx)(n.th,{children:"return"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger = Logger()"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger.shouldPrintMessage(5, 'a')"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"{a:5}"}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"True"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger.shouldPrintMessage(6, 'b')"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"{a:5, b:6}"}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"True"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger.shouldPrintMessage(7, 'a')"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"{a:5, b:6}"}),(0,l.jsx)(n.td,{children:"0"}),(0,l.jsx)(n.td,{children:"False"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger.shouldPrintMessage(13, 'a')"}),(0,l.jsx)(n.td,{children:"{a:5, b:6}"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"13"}),(0,l.jsx)(n.td,{children:"False"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:"logger.shouldPrintMessage(15, 'b')"}),(0,l.jsx)(n.td,{children:"{}"}),(0,l.jsx)(n.td,{children:"{b:40}"}),(0,l.jsx)(n.td,{children:"40"}),(0,l.jsx)(n.td,{children:"True"})]})]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u6e05\u7a7a\u4e00\u4e2a dict / list\uff1a \u4e0d\u8981\u7528",(0,l.jsx)(n.code,{children:".clear()"}),"\uff0c \u56e0\u4e3a\u4f1a\u6709\u4f20\u9012\u7684\u95ee\u9898\uff0c\u89c1\u4e0b\u56fe\uff1a\n",(0,l.jsx)(n.img,{width:"557",alt:"image",src:"https://user-images.githubusercontent.com/41789327/180663697-07402ade-15fd-4e26-81cf-c1d04ab3e5a3.png"}),"\n`"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"class Logger:\n\tdef __init__(self):\n\t\tself.old_msg, self.new_msg = {}, {}\n\t\tself.time_last_seen = 0\n\n\tdef shouldPrintMessage(self, timestamp, message):\n\t\tif timestamp >= self.time_last_seen + 20:\n\t\t\tself.old_msg = {}\n\t\t\tself.new_msg = {}\n\t\t\tself.time_last_seen = timestamp\n\n\t\telif timestamp >= self.time_last_seen + 10:\n\t\t\tself.old_msg = self.new_msg\n\t\t\tself.new_msg = {}\n\t\t\tself.time_last_seen = timestamp\n\n\t\tif message in self.new_msg:\n\t\t\treturn False\n\n\t\tif message in self.old_msg and timestamp < self.old_msg.get(message) + 10:\n\t\t\treturn False \n\n\t\tself.new_msg[message] = timestamp\n\n\t\treturn True\n"})})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>o});var t=s(96540);const l={},i=t.createContext(l);function r(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);