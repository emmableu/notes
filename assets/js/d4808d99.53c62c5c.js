"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[8961],{28453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function d(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),t.createElement(s.Provider,{value:n},e.children)}},42078:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>d,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"Leetcode/Binary Search/528.528 - Random Pick with Weight - Medium","title":"528.528 - Random Pick with Weight - Medium","description":"Description","source":"@site/docs/Leetcode/02.Binary Search/528.528 - Random Pick with Weight - Medium.md","sourceDirName":"Leetcode/02.Binary Search","slug":"/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5","permalink":"/notes/docs/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/02.Binary Search/528.528 - Random Pick with Weight - Medium.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5","slug":"/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5"},"sidebar":"tutorialSidebar","previous":{"title":"278.278 - First Bad Version - Easy","permalink":"/notes/docs/p/6ab452f3-4672-44ba-91d8-e6f81ace185b"},"next":{"title":"658.658 - Find K Closest Elements - Medium","permalink":"/notes/docs/p/9b756cdf-bf0d-4d2b-b71c-31f7e5170ace"}}');var r=i(74848),s=i(28453);const d={created_at:"2025-10-23",page_link:"/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5",slug:"/p/f50235ae-eaac-4dd5-baea-8b4c8635d5a5"},l=void 0,a={},o=[{value:"Description",id:"description",level:2},{value:"Example",id:"example",level:2},{value:"Solution: \u524d\u7f00\u548c+\u4e8c\u5206\u67e5\u627e",id:"solution-\u524d\u7f00\u548c\u4e8c\u5206\u67e5\u627e",level:2},{value:"API: <code>random.randint(start,stop)</code>",id:"api-randomrandintstartstop",level:3},{value:"code",id:"code",level:3},{value:"fb interview code",id:"fb-interview-code",level:3}];function c(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,r.jsx)(n.p,{children:"You are given an array of positive integers w where w[i] describes the weight of ith index (0-indexed)."}),"\n",(0,r.jsx)(n.p,{children:"We need to call the function pickIndex() which randomly returns an integer in the range [0, w.length - 1]. pickIndex() should return the integer proportional to its weight in the w array. For example, for w = [1, 3], the probability of picking the index 0 is 1 / (1 + 3) = 0.25 (i.e 25%) while the probability of picking the index 1 is 3 / (1 + 3) = 0.75 (i.e 75%)."}),"\n",(0,r.jsx)(n.p,{children:"More formally, the probability of picking index i is w[i] / sum(w)."}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:'Input\n["Solution","pickIndex"]\n[[[1]],[]]\nOutput\n[null,0]\n\nExplanation\nSolution solution = new Solution([1]);\nsolution.pickIndex(); // return 0. Since there is only one single element on the array the only option is to return the first element.\n'})}),"\n",(0,r.jsx)(n.p,{children:"Constraints:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"1 <= w.length <= 10000"}),"\n",(0,r.jsx)(n.li,{children:"1 <= w[i] <= 10^5"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"solution-\u524d\u7f00\u548c\u4e8c\u5206\u67e5\u627e",children:"Solution: \u524d\u7f00\u548c+\u4e8c\u5206\u67e5\u627e"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u6bd4\u5982w = [1,3], \u8f6c\u5316\u6210 \u5728 1\uff0c2\uff0c3\uff0c4\uff0c4\u4e2a\u6570\u4e2d\u53d6\u968f\u673ainteger\uff0c\u770b\u843d\u5728(0,1]\u5185\u8fd8\u662f\u843d\u5728(1,4]\u5185\u3002"}),"\n",(0,r.jsxs)(n.li,{children:["\u6ce8\u610f\uff0c\u56e0\u4e3a ",(0,r.jsx)(n.code,{children:"random.randint"})," \u53ea\u53d6int\uff0c\u6240\u4ee5\u8981\u8ba91\u51fa\u73b0\u6982\u7387\u4e3a1/4\uff0c \u8981\u5199",(0,r.jsx)(n.code,{children:"random.randint(1,4)"})]}),"\n",(0,r.jsx)(n.li,{children:"binary search \u7528\u53d6 lower bound\u7684\u6807\u51c6\u5199\u6cd5\u3002\u7b49\u540c\u4e8ebisect_left,\u5c31\u662f\u628a\u8fd9\u4e2a\u6570\u5b57\u653e\u8fdb\u53bb\u4fdd\u6301list sorted\uff0c\u6700\u5de6\u80fd\u653e\u5728\u4ec0\u4e48\u4f4d\u7f6e\u3002"}),"\n"]}),"\n",(0,r.jsxs)(n.h3,{id:"api-randomrandintstartstop",children:["API: ",(0,r.jsx)(n.code,{children:"random.randint(start,stop)"})]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import random\nprint(random.randint(3,9))\n# Return a number between 3 and 9 (both included)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"code",children:"code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def __init__(self, w):\n        self.sums = w\n        for i in range(1, len(w)):\n            self.sums[i] += self.sums[i-1] \n    def pickIndex(self):\n        randint = random.randint(1, self.sums[-1])\n        l, r = -1, len(self.sums)\n        while l + 1  <  r:\n            mid = (l  + r)//2\n            if self.sums[mid] < randint:\n                l = mid\n            else:\n                r = mid\n        return l + 1\n"})}),"\n",(0,r.jsx)(n.h3,{id:"fb-interview-code",children:"fb interview code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:'import random\nclass CityGroup:\n    def __init__(self, city_dic):\n        city_lst = []\n        pop_lst = []\n        cur_sum = 0\n        for ele, val in city_dic.items():\n            city_lst.append(ele)\n            cur_sum += val \n            pop_lst.append(cur_sum)\n        self.city_lst = city_lst\n        self.pop_lst = pop_lst\n\n    def get_city(self):\n        # return a string e.g., "NY"\n        randint = random.randomint(1, self.pop_lst[-1]) #2\n        l, r = -1, len(self.pop_lst) #-1, 3\n        while l + 1 < r:   \n            mid = (l + r) // 2   #-1 + 1 >> 1 = 0\n            if pop_lst[mid] < randint:\n                l = mid\n            else:  \n                r = mid  #0\n        return self.city_lst[l + 1]\n'})})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);