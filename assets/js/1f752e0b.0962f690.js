"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[3135],{28453:(n,e,r)=>{r.d(e,{R:()=>s,x:()=>c});var o=r(96540);const d={},i=o.createContext(d);function s(n){const e=o.useContext(i);return o.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(d):n.components||d:s(n.components),o.createElement(i.Provider,{value:e},n.children)}},59107:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>c,default:()=>f,frontMatter:()=>s,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"Leetcode/Union Find/130.130 - Surrounded Regions - Medium","title":"130.130 - Surrounded Regions - Medium","description":"\u9898\u76ee\u7406\u89e3","source":"@site/docs/Leetcode/18.Union Find/130.130 - Surrounded Regions - Medium.md","sourceDirName":"Leetcode/18.Union Find","slug":"/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2","permalink":"/notes/docs/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/18.Union Find/130.130 - Surrounded Regions - Medium.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2","slug":"/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2"},"sidebar":"tutorialSidebar","previous":{"title":"1101.1101 - The Earliest Moment When Everyone Become Friends - Medium","permalink":"/notes/docs/p/d7162312-8425-4b81-b26a-182a980083f2"},"next":{"title":"839.839 - Similar String Groups - Hard","permalink":"/notes/docs/p/bf98b119-59f5-483a-ab8b-6ef3386f130a"}}');var d=r(74848),i=r(28453);const s={created_at:"2025-10-23",page_link:"/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2",slug:"/p/c1817a4c-5d0b-4a6e-a5a6-a518dd4806c2"},c=void 0,t={},a=[{value:"\u9898\u76ee\u7406\u89e3",id:"\u9898\u76ee\u7406\u89e3",level:2},{value:"solution 1: DFS",id:"solution-1-dfs",level:2},{value:"Solution 2: Union-Find",id:"solution-2-union-find",level:2},{value:"\u89e3\u6cd5\u4ee3\u7801\uff1a",id:"\u89e3\u6cd5\u4ee3\u7801",level:3}];function l(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...n.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.p,{children:(0,d.jsx)(e.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/202208140032722.png",alt:""})}),"\n",(0,d.jsx)(e.h2,{id:"\u9898\u76ee\u7406\u89e3",children:"\u9898\u76ee\u7406\u89e3"}),"\n",(0,d.jsxs)(e.p,{children:["\u7ed9\u4f60\u4e00\u4e2a M\xd7N \u7684\u4e8c\u7ef4\u77e9\u9635\uff0c\u5176\u4e2d\u5305\u542b\u5b57\u7b26",(0,d.jsx)(e.code,{children:"X"}),"\u548c",(0,d.jsx)(e.code,{children:"O"}),"\uff0c\u8ba9\u4f60\u627e\u5230\u77e9\u9635\u4e2d",(0,d.jsx)(e.strong,{children:"\u56db\u9762"}),"\u88ab",(0,d.jsx)(e.code,{children:"X"}),"\u56f4\u4f4f\u7684",(0,d.jsx)(e.code,{children:"O"}),"\uff0c\u5e76\u4e14\u628a\u5b83\u4eec\u66ff\u6362\u6210",(0,d.jsx)(e.code,{children:"X"}),"\u3002"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:'class Solution:\n\tdef solve(self, board: List[List[str]]) -> None:\n        """\n        Do not return anything, modify board in-place instead.\n        """\n'})}),"\n",(0,d.jsxs)(e.p,{children:["\u6ce8\u610f\u54e6\uff0c\u5fc5\u987b\u662f\u56db\u9762\u88ab\u56f4\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u624d\u80fd\u88ab\u6362\u6210",(0,d.jsx)(e.code,{children:"X"}),"\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fb9\u89d2\u4e0a\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u4e00\u5b9a\u4e0d\u4f1a\u88ab\u56f4\uff0c\u8fdb\u4e00\u6b65\uff0c\u4e0e\u8fb9\u89d2\u4e0a\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u76f8\u8fde\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u4e5f\u4e0d\u4f1a\u88ab",(0,d.jsx)(e.code,{children:"X"}),"\u56f4\u56db\u9762\uff0c\u4e5f\u4e0d\u4f1a\u88ab\u66ff\u6362\u3002"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/202208140030060.png",alt:""})}),"\n",(0,d.jsx)(e.h2,{id:"solution-1-dfs",children:"solution 1: DFS"}),"\n",(0,d.jsxs)(e.p,{children:["\u5176\u5b9e\u8fd9\u4e2a\u95ee\u9898\u5e94\u8be5\u5f52\u4e3a ",(0,d.jsx)(e.a,{href:"https://mp.weixin.qq.com/s?__biz=MzAxODQxMDM0Mw==&mid=2247492234&idx=1&sn=fef28b1ca7639e056104374ddc9fbf0b&scene=21#wechat_redirect",children:"\u5c9b\u5c7f\u7cfb\u5217\u95ee\u9898"})," \u4f7f\u7528 DFS \u7b97\u6cd5\u89e3\u51b3\uff1a"]}),"\n",(0,d.jsxs)(e.p,{children:["\u5148\u7528 for \u5faa\u73af\u904d\u5386\u68cb\u76d8\u7684",(0,d.jsx)(e.strong,{children:"\u56db\u8fb9"}),"\uff0c\u7528 DFS \u7b97\u6cd5\u628a\u90a3\u4e9b\u4e0e",(0,d.jsxs)(e.strong,{children:["\u8fb9\u754c\u76f8\u8fde\u7684",(0,d.jsx)(e.code,{children:"O"})]})," \u6362\u6210\u4e00\u4e2a\u7279\u6b8a\u5b57\u7b26\uff0c\u6bd4\u5982",(0,d.jsx)(e.code,{children:"#"}),"\uff1b\u7136\u540e\u518d\u904d\u5386\u6574\u4e2a\u68cb\u76d8\uff0c\u628a\u5269\u4e0b\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u6362\u6210",(0,d.jsx)(e.code,{children:"X"}),"\uff0c\u628a",(0,d.jsx)(e.code,{children:"#"}),"\u6062\u590d\u6210",(0,d.jsx)(e.code,{children:"O"}),"\u3002\u8fd9\u6837\u5c31\u80fd\u5b8c\u6210\u9898\u76ee\u7684\u8981\u6c42\uff0c\u65f6\u95f4\u590d\u6742\u5ea6 O(MN)\u3002"]}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"class Solution:\n    def solve(self, board: List[List[str]]) -> None:\n        \"\"\"\n        Do not return anything, modify board in-place instead.\n        \"\"\"\n        m, n = len(board), len(board[0])\n        for r in range(m):\n            for c in [0, n - 1]:\n                self.dfs(r, c, m, n, board)\n        for r in [0, m - 1]:\n            for c in range(n):\n                self.dfs(r, c, m, n, board)\n        for r in range(m):\n            for c in range(n):\n                if board[r][c] == 'O':\n                    board[r][c] = 'X'\n                elif board[r][c] == '#':\n                    board[r][c] = 'O'\n\n    def dfs(self, r, c, m, n, board):\n        if r < 0 or r >= m or c < 0 or c >= n:\n            return\n        if board[r][c] == 'O':\n            board[r][c] = '#'\n            self.dfs(r - 1, c, m, n, board)\n            self.dfs(r + 1, c, m, n, board)\n            self.dfs(r, c - 1, m, n, board)\n            self.dfs(r, c + 1, m, n, board)\n"})}),"\n",(0,d.jsx)(e.h2,{id:"solution-2-union-find",children:"Solution 2: Union-Find"}),"\n",(0,d.jsx)(e.p,{children:"\u4f46\u8fd9\u4e2a\u95ee\u9898\u4e5f\u53ef\u4ee5\u7528 Union-Find \u7b97\u6cd5\u89e3\u51b3\uff0c\u867d\u7136\u5b9e\u73b0\u590d\u6742\u4e00\u4e9b\uff0c\u751a\u81f3\u6548\u7387\u4e5f\u7565\u4f4e\uff0c\u4f46\u8fd9\u662f\u4f7f\u7528 Union-Find \u7b97\u6cd5\u7684\u901a\u7528\u601d\u60f3\uff0c\u503c\u5f97\u4e00\u5b66\u3002"}),"\n",(0,d.jsxs)(e.p,{children:[(0,d.jsxs)(e.strong,{children:["\u4f60\u53ef\u4ee5\u628a\u90a3\u4e9b\u4e0d\u9700\u8981\u88ab\u66ff\u6362\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u770b\u6210\u4e00\u4e2a\u62e5\u6709\u72ec\u95e8\u7edd\u6280\u7684\u95e8\u6d3e\uff0c\u5b83\u4eec\u6709\u4e00\u4e2a\u5171\u540c\u300c\u7956\u5e08\u7237\u300d\u53eb",(0,d.jsx)(e.code,{children:"dummy"}),"\uff0c\u8fd9\u4e9b",(0,d.jsx)(e.code,{children:"O"}),"\u548c",(0,d.jsx)(e.code,{children:"dummy"}),"\u4e92\u76f8\u8fde\u901a\uff0c\u800c\u90a3\u4e9b\u9700\u8981\u88ab\u66ff\u6362\u7684",(0,d.jsx)(e.code,{children:"O"}),"\u4e0e",(0,d.jsx)(e.code,{children:"dummy"}),"\u4e0d\u8fde\u901a"]}),"\u3002"]}),"\n",(0,d.jsx)(e.p,{children:(0,d.jsx)(e.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/202208141504796.png",alt:""})}),"\n",(0,d.jsx)(e.p,{children:"\u8fd9\u5c31\u662f Union-Find \u7684\u6838\u5fc3\u601d\u8def\uff0c\u660e\u767d\u8fd9\u4e2a\u56fe\uff0c\u5c31\u5f88\u5bb9\u6613\u770b\u61c2\u4ee3\u7801\u4e86\u3002"}),"\n",(0,d.jsx)(e.p,{children:"\u9996\u5148\u8981\u89e3\u51b3\u7684\u662f\uff0c\u6839\u636e\u6211\u4eec\u7684\u5b9e\u73b0\uff0cUnion-Find \u5e95\u5c42\u7528\u7684\u662f\u4e00\u7ef4\u6570\u7ec4\uff0c\u6784\u9020\u51fd\u6570\u9700\u8981\u4f20\u5165\u8fd9\u4e2a\u6570\u7ec4\u7684\u5927\u5c0f\uff0c\u800c\u9898\u76ee\u7ed9\u7684\u662f\u4e00\u4e2a\u4e8c\u7ef4\u68cb\u76d8\u3002"}),"\n",(0,d.jsxs)(e.p,{children:["\u8fd9\u4e2a\u5f88\u7b80\u5355\uff0c\u4e8c\u7ef4\u5750\u6807",(0,d.jsx)(e.code,{children:"(x,y)"}),"\u53ef\u4ee5\u8f6c\u6362\u6210",(0,d.jsx)(e.code,{children:"x * n + y"}),"\u8fd9\u4e2a\u6570\uff08",(0,d.jsx)(e.code,{children:"m"}),"\u662f\u68cb\u76d8\u7684\u884c\u6570\uff0c",(0,d.jsx)(e.code,{children:"n"}),"\u662f\u68cb\u76d8\u7684\u5217\u6570\uff09\uff0c",(0,d.jsx)(e.strong,{children:"\u6572\u9ed1\u677f\uff0c\u8fd9\u662f\u5c06\u4e8c\u7ef4\u5750\u6807\u6620\u5c04\u5230\u4e00\u7ef4\u7684\u5e38\u7528\u6280\u5de7"}),"\u3002"]}),"\n",(0,d.jsxs)(e.p,{children:["\u5176\u6b21\uff0c\u6211\u4eec\u4e4b\u524d\u63cf\u8ff0\u7684\u300c\u7956\u5e08\u7237\u300d\u662f\u865a\u6784\u7684\uff0c\u9700\u8981\u7ed9\u4ed6\u8001\u4eba\u5bb6\u7559\u4e2a\u4f4d\u7f6e\u3002\u7d22\u5f15",(0,d.jsx)(e.code,{children:"[0.. m*n-1]"}),"\u90fd\u662f\u68cb\u76d8\u5185\u5750\u6807\u7684\u4e00\u7ef4\u6620\u5c04\uff0c\u90a3\u5c31\u8ba9\u8fd9\u4e2a\u865a\u62df\u7684",(0,d.jsx)(e.code,{children:"dummy"}),"\u8282\u70b9\u5360\u636e\u7d22\u5f15",(0,d.jsx)(e.code,{children:"m * n"}),"\u597d\u4e86\u3002"]}),"\n",(0,d.jsx)(e.h3,{id:"\u89e3\u6cd5\u4ee3\u7801",children:"\u89e3\u6cd5\u4ee3\u7801\uff1a"}),"\n",(0,d.jsx)(e.pre,{children:(0,d.jsx)(e.code,{className:"language-python",children:"class Solution:\n    def solve(self, board: List[List[str]]) -> None:\n        m, n = len(board), len(board[0])\n        # \u7ed9 dummy \u7559\u4e00\u4e2a\u989d\u5916\u4f4d\u7f6e\n        uf = UF(m * n + 1)\n        dummy = m * n\n        # \u5c06\u9996\u5217\u548c\u672b\u5217\u7684 O \u4e0e dummy \u8fde\u901a\n        for r in range(m):\n            for c in [0, n - 1]:\n                if board[r][c] == 'O':\n                    uf.union(r * n + c, dummy) # \u6ce8\u610f\u662f *n\uff0c\u4e0d\u662f*m\n        # \u5c06\u9996\u884c\u548c\u672b\u884c\u7684 O \u4e0e dummy \u8fde\u901a\n        for r in [0, m - 1]:\n            for c in range(n):\n                if board[r][c] == 'O':\n                    uf.union(r * n + c, dummy)\n\n        # \u5bf9\u6240\u6709O, \u5982\u679c\u8fd9\u4e2aO \u7684\u4e0a\u4e0b\u5de6\u53f34\u4e2a\u90bb\u5c45\u91cc\u9762\u6709O, \u5c31\u628a\u5b83\u4eec\u76f8\u4e92\u8fde\u901a\n        for r in range(m):\n            for c in range(n):\n                if board[r][c] == 'O':\n                    for x, y in (r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1):\n                        if 0 <= x < m and 0 <= y < n and board[x][y] == 'O':\n                            uf.union(r * n + c, x * n + y)\n\n        # \u6240\u6709\u4e0d\u548c dummy \u8fde\u901a\u7684 O\uff0c\u90fd\u8981\u88ab\u66ff\u6362\n        for r in range(m):\n            for c in range(n):\n                if board[r][c] == 'O':\n                    if not uf.connected(r * n + c, dummy):\n                        board[r][c] = 'X'\n\n\nclass UF:  # \u56e0\u4e3a\u4e0d\u9700\u8981\u7b97\u8fde\u901a\u5206\u91cf\u4e2a\u6570\uff0c\u6240\u4ee5\u4e0d\u9700\u8981cnt\n    def __init__(self, n):\n        self.parent = [i for i in range(n)]\n        self.rank = [1] * n\n\n    def find(self, x):\n        if x != self.parent[x]:\n            self.parent[x] = self.find(self.parent[x])\n        return self.parent[x]\n\n    def union(self, p, q):\n        rootp = self.find(p)\n        rootq = self.find(q)\n        if rootp == rootq:\n            return\n        if self.rank[rootq] < self.rank[rootq]:\n            rootp, rootq = rootq, rootp\n        self.parent[rootp] = rootq\n        self.rank[rootq] += self.rank[rootp]\n\n    def connected(self, p, q):\n        rootp = self.find(p)\n        rootq = self.find(q)\n        return rootp == rootq\n\n"})})]})}function f(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,d.jsx)(e,{...n,children:(0,d.jsx)(l,{...n})}):l(n)}}}]);