"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[76604],{28453:(e,t,a)=>{a.d(t,{R:()=>r,x:()=>o});var n=a(96540);const c={},s=n.createContext(c);function r(e){const t=n.useContext(s);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),n.createElement(s.Provider,{value:t},e.children)}},29301:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>n,toc:()=>p});const n=JSON.parse('{"id":"Leetcode/Stack/1996.1996 - The Number of Weak Characters in the Game - Medium","title":"1996.1996 - The Number of Weak Characters in the Game - Medium","description":"LC Link","source":"@site/docs/03. Leetcode/16.Stack/1996.1996 - The Number of Weak Characters in the Game - Medium.md","sourceDirName":"03. Leetcode/16.Stack","slug":"/p/cd22afa2-c887-4a35-973a-b9fc2868eafc","permalink":"/notes/docs/p/cd22afa2-c887-4a35-973a-b9fc2868eafc","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/03. Leetcode/16.Stack/1996.1996 - The Number of Weak Characters in the Game - Medium.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/cd22afa2-c887-4a35-973a-b9fc2868eafc","slug":"/p/cd22afa2-c887-4a35-973a-b9fc2868eafc"},"sidebar":"tutorialSidebar","previous":{"title":"1944.1944 - Number of Visible People in a Queue - Hard","permalink":"/notes/docs/p/8e21f8d8-8f58-4ae7-9dde-c34674b329ca"},"next":{"title":"496.496 - Next Greater Element I (Easy)","permalink":"/notes/docs/p/d8835ea6-b190-4d50-a9c9-43a22c846661"}}');var c=a(74848),s=a(28453);const r={created_at:"2025-10-23",page_link:"/p/cd22afa2-c887-4a35-973a-b9fc2868eafc",slug:"/p/cd22afa2-c887-4a35-973a-b9fc2868eafc"},o=void 0,i={},p=[{value:"mono stack  (Time complexity O(N lg N))",id:"mono-stack--time-complexity-on-lg-n",level:3},{value:"Bucket sort  (Time complexity O(N  + C), n \u4e3a\u89d2\u8272\u6570\u91cf\uff0cc\u4e3a\u6700\u5927\u653b\u51fb\u529b\uff0cc &lt;= 10^5)",id:"bucket-sort--time-complexity-on---c-n-\u4e3a\u89d2\u8272\u6570\u91cfc\u4e3a\u6700\u5927\u653b\u51fb\u529bc--105",level:3}];function d(e){const t={a:"a",br:"br",code:"code",h3:"h3",img:"img",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(t.p,{children:(0,c.jsx)(t.a,{href:"https://leetcode.cn/problems/the-number-of-weak-characters-in-the-game/",children:"LC Link"})}),"\n",(0,c.jsx)(t.img,{alt:"image",src:"https://user-images.githubusercontent.com/41789327/182080821-96e08133-c661-406d-bcba-39ebff9d60e8.png"}),"\n## Both solutions below are good. \n",(0,c.jsx)(t.h3,{id:"mono-stack--time-complexity-on-lg-n",children:"mono stack  (Time complexity O(N lg N))"}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-python",children:"class Solution:\n\tdef numberOfWeakCharacters(self, properties):\n\t\tproperties.sort(key = lambda x: (x[0], -x[1]))\n\t\t# \u73b0\u5728 attack\u5df2\u7ecfsort\u597d\u4e86\uff0c\u524d\u9762\u7684\u80af\u5b9a\u6bd4\u540e\u9762\u7684\u5c0f\uff0c\n\t\t# \u6211\u4eec\u53ea\u8981\u5bf9\u6bcf\u4e2a\u5f53\u524d\u7684defense\uff0c\u627e\u8fd9\u4e2a\u70b9\u7684\u524d\u9762\u7684properties\u7684stk\u91cc\u9762\uff0c\u6709\u6ca1\u6709defense\u6bd4\u5f53\u524d\u70b9\u5c0f\u7684\u5143\u7d20\uff0c\n\t\t# \u6709\u7684\u8bdd\uff0c\u5c31\u628a\u5b83pop\u51fa\u6765\uff0cres += 1\n\t\tstk = []\n\t\tres = 0\n\t\tfor attack, defense in properties:\n\t\t\twhile stk and stk[-1] < defense:\n\t\t\t\tstk.pop()\n\t\t\t\tres += 1\n\t\t\tstk.append(defense)\n\t\treturn res\n"})}),"\n",(0,c.jsx)(t.h3,{id:"bucket-sort--time-complexity-on---c-n-\u4e3a\u89d2\u8272\u6570\u91cfc\u4e3a\u6700\u5927\u653b\u51fb\u529bc--105",children:"Bucket sort  (Time complexity O(N  + C), n \u4e3a\u89d2\u8272\u6570\u91cf\uff0cc\u4e3a\u6700\u5927\u653b\u51fb\u529b\uff0cc <= 10^5)"}),"\n",(0,c.jsxs)(t.p,{children:["\u6bd4\u5982\uff0c\u5bf9\u4e8e ",(0,c.jsx)(t.code,{children:"properties = [[1, 5], [6, 4], [4, 3], [1, 6]]"}),"\n\u5efa\u7acb\u4e00\u4e2a\u8fd9\u6837\u7684 ",(0,c.jsx)(t.code,{children:"attacks"})," \u6570\u7ec4\uff1a"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-python",children:"# 0, 1, 2, 3, 4, 5, 6 \t\n[ 0, 0, 0, 0, 0, 0, 0] # attacks = [0] * (max_attack + 1)  \n[ 0, 6, 0, 0, 3, 0, 4] # attacks[p[0]] = max(attacks[p[0]], p[1])\n[ 0, 4, 0, 0, 4, 0, 0] # attacks\u4fee\u6539\u4e3a\u8bb0\u5f55\u6bd4\u5f53\u524d\u653b\u51fb\u529b\u5927\u7684\u4eba\u7684\u6700\u5927\u9632\u5fa1\u529b  \n"})}),"\n",(0,c.jsxs)(t.p,{children:["\u5bf9\u4e0a\u9762\u7684",(0,c.jsx)(t.code,{children:"attacks"})," \u6570\u7ec4\u8fdb\u884c\u904d\u5386\uff0c \u5bf9\u4e8e\u6bcf\u4e2a\u70b9\uff1a \u6bd4\u5982 \u30101\uff0c 5\u3011\uff1a",(0,c.jsx)(t.br,{}),"\np[0] = 1 < max_attack",(0,c.jsx)(t.br,{}),"\np[1] = 5 > attacks[1], \u6240\u4ee5\u4e0d\u7b26\u5408\u5f31\u89d2\u8272\uff0c"]}),"\n",(0,c.jsxs)(t.p,{children:["\u4f46\u662f\u6bd4\u5982 \u30104\uff0c3\u3011\uff1a",(0,c.jsx)(t.br,{}),"\np[0] = 4 < max_attack",(0,c.jsx)(t.br,{}),"\np[1] = 3 < attacks[1], \u6240\u4ee5\u662f\u5f31\u89d2\u8272"]}),"\n",(0,c.jsx)(t.pre,{children:(0,c.jsx)(t.code,{className:"language-python",children:"class Solution:\n    def numberOfWeakCharacters(self, properties):\n        # \u6c42\u6240\u6709\u4eba\u7684\u6700\u5927\u653b\u51fb\u529b  \n        max_attack = max(p[0] for p in properties)\n        # \u4e0b\u9762\u4e24\u6b65\u5bf9\u653b\u51fb\u529b\u505a\u4e00\u4e2a\u6876\u6392\u5e8f  \n        # attacks\u521d\u59cb\u5316\u4e3a\u8bb0\u5f55\u6bcf\u4e00\u79cd\u653b\u51fb\u529b\u5bf9\u5e94\u7684\u6700\u5927\u9632\u5fa1\u529b        \n        # \u540c\u4e00\u4e2a\u653b\u51fb\u529b\uff0c\u53ef\u80fd\u4e0d\u540c\u4eba\u6709\u4e0d\u540c\u7684\u9632\u5fa1\u529b\uff0c\u8fd9\u91cc\u8bb0\u5f55\u6700\u5927\u7684       \n        attacks = [0] * (max_attack + 1)  \n        for p in properties:\n            attacks[p[0]] = max(attacks[p[0]], p[1])\n\n        # attacks\u4fee\u6539\u4e3a\u8bb0\u5f55\u6bd4\u5f53\u524d\u653b\u51fb\u529b\u5927\u7684\u4eba\u7684\u6700\u5927\u9632\u5fa1\u529b  \n        # \u5373\u4f7f\u6bd4\u5f53\u524d\u653b\u51fb\u529b\u5bf9\u5e94\u7684\u9632\u5fa1\u529b\u4f4e\u4e5f\u8981\u66f4\u65b0        \n        max_defense = 0  \n        for i in range(max_attack, 0, -1):\n            tmp = attacks[i]\n            attacks[i] = max_defense\n            max_defense = max(max_defense, tmp)\n\n            # \u904d\u5386\uff0c\u53ea\u8981\u4e00\u4e2a\u4eba\u7684\u653b\u51fb\u529b\u5c0f\u4e8e\u6700\u5927\u653b\u51fb\u529b\uff0c\u4e14\u5b58\u5728\u6bd4\u4ed6\u5927\u7684\u9632\u5fa1\u529b\uff0c\u4ed6\u5c31\u662f\u5f31\u89d2\u8272  \n        res = 0\n        for p in properties:\n            # \u6761\u4ef6 p[0] < maxAttack \u4e5f\u53ef\u4ee5\u4e0d\u7528\u5199  \n            # \u56e0\u4e3a attacks[maxAttack] = 0\uff0c\u6240\u4ee5\uff0c            \n            # \u5bf9\u4e8e\u6700\u5927\u653b\u51fb\u529b\u7684\u4eba\u6765\u8bf4\uff0c\u5b83\u7684 p[1]<attacks[p[0]] \u80af\u5b9a\u662f\u4e0d\u6210\u7acb\u7684            \n            # \u800c\u5176\u4ed6\u7684\u4eba\u653b\u51fb\u529b\u90fd\u662f\u5c0f\u4e8e maxAttack \u7684           \n            if p[0] < max_attack and p[1] < attacks[p[0]]:\n                res += 1\n        return res\n"})})]})}function m(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,c.jsx)(t,{...e,children:(0,c.jsx)(d,{...e})}):d(e)}}}]);