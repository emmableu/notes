"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[6946],{28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(96540);const d={},c=s.createContext(d);function o(e){const n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:o(e.components),s.createElement(c.Provider,{value:n},e.children)}},77908:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"Leetcode/Sliding Window/239.239 - Sliding Window Maximum - Hard","title":"239.239 - Sliding Window Maximum - Hard","description":"LC link","source":"@site/docs/Leetcode/15.Sliding Window/239.239 - Sliding Window Maximum - Hard.md","sourceDirName":"Leetcode/15.Sliding Window","slug":"/p/20d21a94-883d-4964-a68e-ecef4817258b","permalink":"/notes/docs/p/20d21a94-883d-4964-a68e-ecef4817258b","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/15.Sliding Window/239.239 - Sliding Window Maximum - Hard.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/20d21a94-883d-4964-a68e-ecef4817258b","slug":"/p/20d21a94-883d-4964-a68e-ecef4817258b"},"sidebar":"tutorialSidebar","previous":{"title":"1610.1610 - Maximum Number of Visible Points - Hard","permalink":"/notes/docs/p/c4034e30-e59d-4191-a318-00cb7f1a6871"},"next":{"title":"340.340 - Longest Substring with At Most K Distinct Characters (Medium)","permalink":"/notes/docs/p/6d5681dc-cd9c-40c3-a7f0-7cb15632564d"}}');var d=i(74848),c=i(28453);const o={created_at:"2025-10-23",page_link:"/p/20d21a94-883d-4964-a68e-ecef4817258b",slug:"/p/20d21a94-883d-4964-a68e-ecef4817258b"},l=void 0,r={},t=[{value:"\u5177\u4f53solution\uff1a",id:"\u5177\u4f53solution",level:2},{value:"OBSOLETE solution: \u53cc\u5411\u961f\u5217",id:"obsolete-solution-\u53cc\u5411\u961f\u5217",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://leetcode.cn/problems/sliding-window-maximum/",children:"LC link"})}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/202208181206350.png",alt:""})}),"\n",(0,d.jsx)(n.h2,{id:"\u5177\u4f53solution",children:"\u5177\u4f53solution\uff1a"}),"\n",(0,d.jsxs)(n.p,{children:["\u89c1  ",(0,d.jsx)(n.a,{href:"/pages/b15e3d/",children:"Monotonic Queue  \u5355\u8c03\u961f\u5217 \u6a21\u7248"})]}),"\n",(0,d.jsx)(n.h2,{id:"obsolete-solution-\u53cc\u5411\u961f\u5217",children:"OBSOLETE solution: \u53cc\u5411\u961f\u5217"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u904d\u5386\u6570\u7ec4\uff0c\u5c06 \u6570 \u5b58\u653e\u5728\u53cc\u5411\u961f\u5217\u4e2d\uff0c\u5e76\u7528 ",(0,d.jsx)(n.code,{children:"i - k + 1"}),", ",(0,d.jsx)(n.code,{children:"i"})," \u6765\u6807\u8bb0\u7a97\u53e3 ",(0,d.jsx)(n.code,{children:"[i - k + 1, i]"}),"(\u5de6\u95ed\u53f3\u95ed) \u7684\u5de6\u8fb9\u754c\u548c\u53f3\u8fb9\u754c\u3002"]}),"\n",(0,d.jsx)(n.li,{children:"\u961f\u5217\u4e2d\u4fdd\u5b58\u7684\u5e76\u4e0d\u662f\u771f\u7684 \u6570\uff0c\u800c\u662f\u8be5\u6570\u503c\u5bf9\u5e94\u7684\u6570\u7ec4\u4e0b\u6807\u4f4d\u7f6e\uff0c"}),"\n",(0,d.jsx)(n.li,{children:"\u6570\u7ec4\u4e2d\u7684\u6570\u8981\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u3002\u5982\u679c\u5f53\u524d\u904d\u5386\u7684\u6570\u6bd4\u961f\u5c3e\u7684\u503c\u5927\uff0c\u5219\u9700\u8981\u5f39\u51fa\u961f\u5c3e\u503c\uff0c\u76f4\u5230\u961f\u5217\u91cd\u65b0\u6ee1\u8db3\u4ece\u5927\u5230\u5c0f\u7684\u8981\u6c42\u3002"}),"\n",(0,d.jsxs)(n.li,{children:["step 1\uff1a\u5f62\u6210\u7a97\u53e3\uff1a\u521a\u5f00\u59cb\u904d\u5386\u65f6\uff0c\u53f3\u8fb9\u754c ",(0,d.jsx)(n.code,{children:"i = 0"}),", \u5de6\u8fb9\u754c ",(0,d.jsx)(n.code,{children:"i - k + 1 < 0"}),"\uff0c\u6709\u4e00\u4e2a\u5f62\u6210\u7a97\u53e3\u7684\u8fc7\u7a0b\uff0c\u6b64\u8fc7\u7a0b\u6ca1\u6709\u6700\u5927\u503c."]}),"\n",(0,d.jsxs)(n.li,{children:["step 2:  \u79fb\u52a8\u5e76\u5224\u65ad\uff1a\u5de6\u8fb9\u754c ",(0,d.jsx)(n.code,{children:"i - k + 1 >= 0"})," \u65f6\u7a97\u53e3\u5f62\u6210\u3002\u7a97\u53e3\u5f62\u6210\u540e\u6bcf\u6b21\u79fb\u52a8\u65f6\uff0c\u5224\u65ad\u961f\u9996\u7684\u503c(\u6700\u5927\u503c\uff09\u7684\u4e0b\u6807\u662f\u5426 >= \u5de6\u8fb9\u754c\uff0c\u5982\u679c\u4e0d\u5728\u5219\u9700\u8981\u5f39\u51fa\u961f\u9996\u7684\u503c\uff0c\u5f53\u524d\u7a97\u53e3\u7684\u6700\u5927\u503c\u5373\u4e3a\u961f\u9996\u7684\u6570\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u4ee5 \u4e0b\u9762input output \u4e3a\u4f8b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"\u8f93\u5165: nums = [1,3,-1,-3,5,3,6,7], \u548c k = 3\n\u8f93\u51fa: [3,3,5,5,6,7]\n"})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u521d\u59cb\uff1a ",(0,d.jsx)(n.code,{children:"i = 0, q = []"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"i = 0"}),": ",(0,d.jsx)(n.code,{children:"nums[0] = 1"}),", q \u4e3a\u7a7a\uff0c\u6240\u4ee5\u76f4\u63a5\u52a0\u5165\uff0c",(0,d.jsx)(n.code,{children:"q = [1\u7684\u4e0b\u6807] = [0]"}),", \u961f\u9996\u4e0b\u6807\u6709\u6548 \uff08\u4ecd\u7136\u5728 [l,r] \u4e2d\uff09\uff0c\u7a97\u53e3\u957f\u5ea6 < k."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"i = 1"}),": ",(0,d.jsx)(n.code,{children:"nums[1] = 3, nums[q[-1]] = 1"})," \u6bd4 3 \u5c0f\uff0c 1 \u5f39\u51fa 3\u52a0\u5165\uff0c",(0,d.jsx)(n.code,{children:"q = [3\u7684\u4e0b\u6807] = [1]"}),", \u961f\u9996\u4e0b\u6807\u6709\u6548\uff0c\u7a97\u53e3\u957f\u5ea6 < k."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"i = 2"}),", ",(0,d.jsx)(n.code,{children:"nums[2] = -1, q = [1, 2]"}),", \u8fd9\u65f6\u961f\u9996\u4e0b\u6807\u4ecd\u7136\u6709\u6548\uff0ci + 1 = k, \u6240\u4ee5res\u6709\u4e86\u7b2c\u4e00\u4e2a\u5143\u7d20, ",(0,d.jsx)(n.code,{children:"res = [nums[q[0]]] = [3]"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"i = 3"}),", ",(0,d.jsx)(n.code,{children:"nums[3] = -3, q = [1,2,3]"}),", \u8fd9\u65f6\u961f\u9996\u4e0b\u6807\u4ecd\u7136\u6709\u6548\uff0cres = [3, 3]"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"i = 4"}),", ",(0,d.jsx)(n.code,{children:"nums[4] = 5"}),",\u56e0\u4e3a 5 \u5927\u4e8e q\u91cc\u9762\u73b0\u6709\u7684\u6240\u6709\u5143\u7d20\uff0c\u628a\u4ed6\u4eec\u5168\u90e8pop\u51fa\u6765\uff0c\u6700\u540e\u5f97\u5230 ",(0,d.jsx)(n.code,{children:"q = [5\u7684\u4e0b\u6807] = [4],  res = [3,3,5]"}),"\n..."]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:"from collections import deque\nclass Solution:\n    def maxSlidingWindow(self, nums, k):\n        if not nums or len(nums) < 2: return nums\n        # \u53cc\u5411\u961f\u5217\uff0c\u4fdd\u5b58\u5f53\u524d\u7a97\u53e3\u6700\u5927\u503c\u7684\u4e0b\u6807\n        # \u4fdd\u8bc1\u4e0b\u6807\u5bf9\u5e94\u7684\u6570\u5b57\u6309\u4ece\u5927\u5230\u5c0f\u6392\u5217 \n        q = deque()\n        # \u521d\u59cb\u5316 res\n        res = []  \n        # \u53f3\u8fb9\u754c\u9010\u4e00\u53d8\u5927\n        for i in range(len(nums)):\n            # \u4fdd\u8bc1\u4ece\u5927\u5230\u5c0f\uff0c\u5982\u679c\u524d\u9762\u6570\u5c0f\u5219\u9700\u8981\u4f9d\u6b21\u5f39\u51fa\uff0c\u76f4\u5230\u6ee1\u8db3\u8981\u6c42\n            while q and nums[q[-1]] < nums[i]:\n                q.pop()\n            q.append(i)\n            # \u5224\u65ad\u961f\u9996\uff08\u6700\u5927\u503c\u4e0b\u6807\uff09\u662f\u5426 < \u5de6\u8fb9\u754c\uff0c\u5982\u679c\u5c0f\u4e8e\u5219\u51fa\u754c\uff0c\u5c31pop\n            if q[0] < i - k + 1:\n                q.popleft()\n            # \u5de6\u8fb9\u754c i - k + 1 >= 0 \u65f6\u7a97\u53e3\u5f62\u6210\uff0c\n            # \u7a97\u53e3\u5f62\u6210\u540e\u6bcf\u6b21\u904d\u5386\u5f80res\u91cc\u9762append\u5f53\u524d\u6700\u5927\u503c\n            if i - k + 1 >= 0:\n                res.append(nums[q[0]])\n        return res\n"})})]})}function u(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}}}]);