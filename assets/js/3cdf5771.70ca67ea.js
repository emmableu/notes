"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[7603],{9251:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"Leetcode/BFS/815.815 - Bus Routes - Hard","title":"815.815 - Bus Routes - Hard","description":"LC link","source":"@site/docs/Leetcode/01.BFS/815.815 - Bus Routes - Hard.md","sourceDirName":"Leetcode/01.BFS","slug":"/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3","permalink":"/notes/docs/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/01.BFS/815.815 - Bus Routes - Hard.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3","slug":"/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3"},"sidebar":"tutorialSidebar","previous":{"title":"542.542 - 01 Matrix","permalink":"/notes/docs/p/3d4eb6c7-16fb-4cf8-bb17-06046ed41b14"},"next":{"title":"847.847 - Shortest Path Visiting All Nodes - Hard","permalink":"/notes/docs/p/c51d32ba-235c-4759-9085-d3de34bfd4b6"}}');var o=t(74848),r=t(28453);const i={created_at:"2025-10-23",page_link:"/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3",slug:"/p/1ff445bd-2374-42e5-bbf6-53b5762cbea3"},d=void 0,c={},a=[{value:"solution: BFS",id:"solution-bfs",level:2}];function p(e){const s={a:"a",br:"br",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.p,{children:(0,o.jsx)(s.a,{href:"https://leetcode-cn.com/problems/bus-routes/",children:"LC link"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/815-0.png",alt:""})}),"\n",(0,o.jsx)(s.h2,{id:"solution-bfs",children:"solution: BFS"}),"\n",(0,o.jsxs)(s.p,{children:["\u5728\u8fdb\u884c BFS \u904d\u5386\u4e4b\u524d\uff0c\u5148\u7528 \u516c\u4ea4\u8f66\u7ad9 stop_board \u5efa\u8868\uff1a",(0,o.jsx)(s.br,{}),"\ninput:",(0,o.jsx)(s.code,{children:"[[1,2,7],[3,6,7]]"}),", \u5219 ",(0,o.jsx)(s.code,{children:"stop_board = {1: [0], 2: [0], 7: [0, 1], 3: [1], 6: [1]}"}),(0,o.jsx)(s.br,{}),"\n\u7136\u540e\u8fdb\u884cbfs\uff0c\nbfs\u4e2d\u4e3a\u4e86\u9632\u6b62visit \u5df2\u7ecfvisit\u8fc7\u4e86\u7684\u91cf\uff0c\u7528\u4e24\u4e2avis\uff1a",(0,o.jsx)(s.code,{children:"bus_vis"})," \u548c ",(0,o.jsx)(s.code,{children:"stop_vis"}),".",(0,o.jsx)(s.br,{}),"\n\u672c\u9898\u548c\u4e00\u822cbfs\u7684\u4e0d\u540c\u4e4b\u5904\u4e3b\u8981\u5728\u4e8e\u6269\u6563\uff1a"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-python",children:"for bus in stop_board[stop]:\n    for stop in routes[bus]:\n        if stop not in stop_vis:\n            q.append(stop)\n            stop_vis.add(stop)\n"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-python",children:"class Solution:\n    def numBusesToDestination(self, routes, source, dest):\n        stop_board = defaultdict(list)\n        for bus, route in enumerate(routes):\n            for stop in route:\n                stop_board[stop].append(bus)\n\n        q = deque([source])\n        bus_vis = set()\n        stop_vis = set()\n        step = -1\n        while q:\n            size = len(q)\n            step += 1\n            for _ in range(size):\n                stop = q.popleft()\n                if stop == dest: \n                    return step\n                for bus in stop_board[stop]:\n                    if bus in bus_vis:\n                        continue\n                    for stop in routes[bus]:\n                        if stop not in stop_vis:\n                            q.append(stop)\n                            stop_vis.add(stop)\n                    bus_vis.add(bus)\n        return -1  \n"})})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(p,{...e})}):p(e)}},28453:(e,s,t)=>{t.d(s,{R:()=>i,x:()=>d});var n=t(96540);const o={},r=n.createContext(o);function i(e){const s=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),n.createElement(r.Provider,{value:s},e.children)}}}]);