"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[1053],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var l=t(96540);const s={},d=l.createContext(s);function i(e){const n=l.useContext(d);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),l.createElement(d.Provider,{value:n},e.children)}},48583:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"Leetcode/Other/380.380 - Insert Delete GetRandom O(1) - Medium","title":"380.380 - Insert Delete GetRandom O(1) - Medium","description":"LC link","source":"@site/docs/Leetcode/99.Other/380.380 - Insert Delete GetRandom O(1) - Medium.md","sourceDirName":"Leetcode/99.Other","slug":"/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556","permalink":"/notes/docs/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/99.Other/380.380 - Insert Delete GetRandom O(1) - Medium.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556","slug":"/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556"},"sidebar":"tutorialSidebar","previous":{"title":"378.378 - Kth Smallest Element in a Sorted Matrix - Medium","permalink":"/notes/docs/p/a092fb9d-9bfc-4245-9b1b-4414387fc54e"},"next":{"title":"384.384 - Shuffle an Array","permalink":"/notes/docs/p/e4968388-4b4e-471d-93ad-dfdf50982539"}}');var s=t(74848),d=t(28453);const i={created_at:"2025-10-23",page_link:"/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556",slug:"/p/837acdec-bd83-4e5c-b1f6-7e4e62d56556"},c=void 0,r={},o=[{value:"Solution",id:"solution",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://leetcode.cn/problems/insert-delete-getrandom-o1/",children:"LC link"}),"\n",(0,s.jsx)(n.a,{href:"https://zxi.mytechroad.com/blog/hashtable/leetcode-380-insert-delete-getrandom-o1/",children:"explanation(video)"}),"\n",(0,s.jsx)(n.a,{href:"https://leetcode-cn.com/problems/insert-delete-getrandom-o1/solution/chang-shu-shi-jian-cha-ru-shan-chu-he-huo-qu-sui-j/",children:"explanation(text)"})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/380-0.png",alt:""})}),"\n",(0,s.jsx)(n.h2,{id:"solution",children:"Solution"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u4f7f\u7528dict\u548clist\u4e24\u4e2a\u6570\u636e\u7ed3\u6784\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u6bd4\u5982\uff0c ",(0,s.jsx)(n.code,{children:"lst=[1,2,3], dic={1:0, 2:1, 3:2}"}),"\uff0c dic\u4e0a\u9762\u662f{value:index}"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5220\u9664\u65f6\u5982\u4f55\u4fdd\u8bc1O(1):\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u5148\u8ba9\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5360\u9886\u8981\u88ab\u5220\u9664\u5143\u7d20\u7684\u4f4d\u7f6e\uff1a"}),"\n",(0,s.jsxs)(n.li,{children:["\u6bd4\u5982\uff1a",(0,s.jsx)(n.code,{children:"lst=[1,2,3], dic={1:0, 2:1, 3:2}"}),", \u5220\u96642:"]}),"\n",(0,s.jsxs)(n.li,{children:["\u5148\u628a\u8fd9\u4e2a\u53d8\u6210 ",(0,s.jsx)(n.code,{children:"lst=[1,3,3]"}),", ",(0,s.jsx)(n.code,{children:"dic={1:0, 2:1, 3:1} "}),"(3 \u5230 2 \u5904)\uff0c"]}),"\n",(0,s.jsxs)(n.li,{children:["\u7136\u540e",(0,s.jsx)(n.code,{children:"lst.pop()"}),", ",(0,s.jsx)(n.code,{children:"del dic[2]"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"import random\n\nclass RandomizedSet:\n\n    def __init__(self):\n        self.dic = {}\n        self.lst = []\n    \n    def insert(self, val: int) -> bool:\n        # \u63d2\u5165\u5143\u7d20\uff0c\u5982\u679c\u6210\u529f\u5c31\u8fd4\u56detrue\uff0c\u5982\u679c\u672c\u6765\u5df2\u7ecf\u6709\u5c31\u8fd4\u56defalse\n        if val in self.dic:\n            return False\n        self.dic[val] = len(self.lst)\n        self.lst.append(val)\n        return True\n\n        \n    def remove(self, val: int) -> bool:\n        # \u4ecedict \u548c list \u91cc\u9762\u53bb\u6389val\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u8fd4\u56defalse  \n        if val not in self.dic:\n            return False\n        \n        # \u8ba9\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u5360\u9886\u8981\u88ab\u5220\u9664\u5143\u7d20\u7684\u4f4d\u7f6e\u3002\n        last_element, idx = self.lst[-1], self.dic[val]\n        self.lst[idx] = last_element\n        self.dic[last_element] = idx\n        # \u53bb\u6389\u6700\u540e\u4e00\u4e2a\n        self.lst.pop()\n        del self.dic[val]\n        return True\n\n    def getRandom(self) -> int:\n        return random.choice(self.lst)\n"})})]})}function u(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);