"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[33520],{28453:(s,e,n)=>{n.d(e,{R:()=>t,x:()=>r});var a=n(96540);const l={},i=a.createContext(l);function t(s){const e=a.useContext(i);return a.useMemo(function(){return"function"==typeof s?s(e):{...e,...s}},[e,s])}function r(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(l):s.components||l:t(s.components),a.createElement(i.Provider,{value:e},s.children)}},47909:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>m});const a=JSON.parse('{"id":"DL Theory 100/Decoding parameters Temperature vs Top-k vs Top-p differences and effect on output diversity","title":"Decoding parameters Temperature vs Top-k vs Top-p differences and effect on output diversity","description":"\u5b9a\uff1a","source":"@site/docs/02. DL Theory 100/017. Decoding parameters Temperature vs Top-k vs Top-p differences and effect on output diversity.md","sourceDirName":"02. DL Theory 100","slug":"/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094","permalink":"/notes/docs/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/02. DL Theory 100/017. Decoding parameters Temperature vs Top-k vs Top-p differences and effect on output diversity.md","tags":[],"version":"current","sidebarPosition":17,"frontMatter":{"created_at":"2025-11-01","page_link":"/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094","slug":"/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094"},"sidebar":"tutorialSidebar","previous":{"title":"Bias in LLMs \u2013 Causes and Mitigation Approaches","permalink":"/notes/docs/p/313450f8-5c2a-4a9f-8975-3236c492a58e"},"next":{"title":"When to use BERT encoder vs a generative model like GPT decoder use case differences","permalink":"/notes/docs/p/bc76eac6-9783-407c-ac70-431428a2cd3a"}}');var l=n(74848),i=n(28453);const t={created_at:"2025-11-01",page_link:"/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094",slug:"/p/5c4f0678-75d8-4bbd-bb00-9c6bc374e094"},r=void 0,c={},m=[{value:"\ud83d\udd0d \u8be6\u7ec6\u89e3\u91ca",id:"-\u8be6\u7ec6\u89e3\u91ca",level:2},{value:"\ud83d\udcd8 \u6570\u5b66\u8868\u8fbe",id:"-\u6570\u5b66\u8868\u8fbe",level:3},{value:"\u2699\ufe0f \u793a\u4f8b",id:"\ufe0f-\u793a\u4f8b",level:3},{value:"\ud83d\udcda \u5b66\u4e60\u8d44\u6e90",id:"-\u5b66\u4e60\u8d44\u6e90",level:3}];function h(s){const e={annotation:"annotation",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",math:"math",mfrac:"mfrac",mi:"mi",mo:"mo",mrow:"mrow",msub:"msub",msup:"msup",munder:"munder",p:"p",semantics:"semantics",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...s.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u5b9a\uff1a"}),(0,l.jsx)(e.br,{}),"\n\u8fd9\u4e9b\u53c2\u6570\u63a7\u5236\u751f\u6210\u65f6\u7684\u91c7\u6837\u7b56\u7565\uff0c\u4ece\u800c\u5e73\u8861\u6587\u672c\u7684\u591a\u6837\u6027\u4e0e\u8fde\u8d2f\u6027\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u56e0\uff1a"}),(0,l.jsx)(e.br,{}),"\nLLM \u7684\u8f93\u51fa\u662f\u57fa\u4e8e\u6982\u7387\u5206\u5e03\u7684\u91c7\u6837\uff0c\u4e0d\u540c\u7b56\u7565\u5f71\u54cd\u751f\u6210\u7a33\u5b9a\u6027\u4e0e\u521b\u9020\u6027\u3002"]}),"\n",(0,l.jsx)(e.p,{children:(0,l.jsx)(e.strong,{children:"\u6cd5\uff1a"})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Temperature \u63a7\u5236 softmax \u5206\u5e03\u5e73\u6ed1\u5ea6"}),"\n",(0,l.jsx)(e.li,{children:"Top-k \u9650\u5236\u91c7\u6837\u5019\u9009\u6570\u91cf"}),"\n",(0,l.jsx)(e.li,{children:"Top-p \u4f7f\u7528\u7d2f\u79ef\u6982\u7387\u9608\u503c\u7b5b\u9009"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u679c\uff1a"}),(0,l.jsx)(e.br,{}),"\n\u4f4e\u6e29\u5ea6\u66f4\u786e\u5b9a\uff0c\u9ad8\u6e29\u5ea6\u66f4\u968f\u673a\uff1bTop-p \u63a7\u5236\u8bed\u4e49\u591a\u6837\u6027\u66f4\u67d4\u548c\u3002"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"\u4f18\uff1a"}),(0,l.jsx)(e.br,{}),"\n\u53ef\u7075\u6d3b\u8c03\u8282\u751f\u6210\u98ce\u683c\uff0c\u4ece\u4fdd\u5b88\u56de\u7b54\u5230\u521b\u9020\u6027\u5199\u4f5c\u7686\u53ef\u9002\u914d\u3002"]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.h2,{id:"-\u8be6\u7ec6\u89e3\u91ca",children:"\ud83d\udd0d \u8be6\u7ec6\u89e3\u91ca"}),"\n",(0,l.jsx)(e.h3,{id:"-\u6570\u5b66\u8868\u8fbe",children:"\ud83d\udcd8 \u6570\u5b66\u8868\u8fbe"}),"\n",(0,l.jsx)(e.span,{className:"katex-display",children:(0,l.jsxs)(e.span,{className:"katex",children:[(0,l.jsx)(e.span,{className:"katex-mathml",children:(0,l.jsx)(e.math,{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block",children:(0,l.jsxs)(e.semantics,{children:[(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"P"}),(0,l.jsx)(e.mi,{children:"i"})]}),(0,l.jsx)(e.mo,{children:"="}),(0,l.jsxs)(e.mfrac,{children:[(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mi,{children:"e"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"z"}),(0,l.jsx)(e.mi,{children:"i"})]}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,l.jsx)(e.mi,{children:"T"})]})]}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.munder,{children:[(0,l.jsx)(e.mo,{children:"\u2211"}),(0,l.jsx)(e.mi,{children:"j"})]}),(0,l.jsxs)(e.msup,{children:[(0,l.jsx)(e.mi,{children:"e"}),(0,l.jsxs)(e.mrow,{children:[(0,l.jsxs)(e.msub,{children:[(0,l.jsx)(e.mi,{children:"z"}),(0,l.jsx)(e.mi,{children:"j"})]}),(0,l.jsx)(e.mi,{mathvariant:"normal",children:"/"}),(0,l.jsx)(e.mi,{children:"T"})]})]})]})]})]}),(0,l.jsx)(e.annotation,{encoding:"application/x-tex",children:"P_i = \\frac{e^{z_i / T}}{\\sum_j e^{z_j / T}}"})]})})}),(0,l.jsxs)(e.span,{className:"katex-html","aria-hidden":"true",children:[(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"0.8333em",verticalAlign:"-0.15em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord mathnormal",style:{marginRight:"0.13889em"},children:"P"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3117em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.55em",marginLeft:"-0.1389em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.15em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}}),(0,l.jsx)(e.span,{className:"mrel",children:"="}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.2778em"}})]}),(0,l.jsxs)(e.span,{className:"base",children:[(0,l.jsx)(e.span,{className:"strut",style:{height:"2.7209em",verticalAlign:"-1.1559em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mopen nulldelimiter"}),(0,l.jsx)(e.span,{className:"mfrac",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsxs)(e.span,{className:"vlist",style:{height:"1.565em"},children:[(0,l.jsxs)(e.span,{style:{top:"-2.2799em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsxs)(e.span,{className:"mop",children:[(0,l.jsx)(e.span,{className:"mop op-symbol small-op",style:{position:"relative",top:"0em"},children:"\u2211"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.162em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.4003em",marginLeft:"0em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.4358em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mspace",style:{marginRight:"0.1667em"}}),(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.8301em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.0051em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.05724em"},children:"j"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.2819em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mord mtight",children:"/"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"},children:"T"})]})})]})})})})})]})]})]}),(0,l.jsxs)(e.span,{style:{top:"-3.23em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"frac-line",style:{borderBottomWidth:"0.04em"}})]}),(0,l.jsxs)(e.span,{style:{top:"-3.677em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"3em"}}),(0,l.jsx)(e.span,{className:"mord",children:(0,l.jsxs)(e.span,{className:"mord",children:[(0,l.jsx)(e.span,{className:"mord mathnormal",children:"e"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsx)(e.span,{className:"vlist-t",children:(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.888em"},children:(0,l.jsxs)(e.span,{style:{top:"-3.063em",marginRight:"0.05em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.7em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size6 size3 mtight",children:(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsxs)(e.span,{className:"mord mtight",children:[(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.04398em"},children:"z"}),(0,l.jsx)(e.span,{className:"msupsub",children:(0,l.jsxs)(e.span,{className:"vlist-t vlist-t2",children:[(0,l.jsxs)(e.span,{className:"vlist-r",children:[(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.3281em"},children:(0,l.jsxs)(e.span,{style:{top:"-2.357em",marginLeft:"-0.044em",marginRight:"0.0714em"},children:[(0,l.jsx)(e.span,{className:"pstrut",style:{height:"2.5em"}}),(0,l.jsx)(e.span,{className:"sizing reset-size3 size1 mtight",children:(0,l.jsx)(e.span,{className:"mord mathnormal mtight",children:"i"})})]})}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"0.143em"},children:(0,l.jsx)(e.span,{})})})]})})]}),(0,l.jsx)(e.span,{className:"mord mtight",children:"/"}),(0,l.jsx)(e.span,{className:"mord mathnormal mtight",style:{marginRight:"0.13889em"},children:"T"})]})})]})})})})})]})})]})]}),(0,l.jsx)(e.span,{className:"vlist-s",children:"\u200b"})]}),(0,l.jsx)(e.span,{className:"vlist-r",children:(0,l.jsx)(e.span,{className:"vlist",style:{height:"1.1559em"},children:(0,l.jsx)(e.span,{})})})]})}),(0,l.jsx)(e.span,{className:"mclose nulldelimiter"})]})]})]})]})}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"T"})," = Temperature"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Top-k"}),"\uff1a\u4ec5\u4fdd\u7559\u6982\u7387\u6700\u9ad8\u7684 k \u4e2a token"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Top-p"}),"\uff1a\u4fdd\u7559\u7d2f\u8ba1\u6982\u7387 \u2264 p \u7684 token \u96c6\u5408"]}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"\ufe0f-\u793a\u4f8b",children:"\u2699\ufe0f \u793a\u4f8b"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{children:"\u53c2\u6570"}),(0,l.jsx)(e.th,{children:"\u6548\u679c"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"T=0.2"}),(0,l.jsx)(e.td,{children:"\u7cbe\u51c6\u3001\u786e\u5b9a"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"T=1.0"}),(0,l.jsx)(e.td,{children:"\u5e73\u8861"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"T=1.5"}),(0,l.jsx)(e.td,{children:"\u591a\u6837\u3001\u968f\u673a"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.td,{children:"Top-p=0.9"}),(0,l.jsx)(e.td,{children:"\u8bed\u4e49\u66f4\u81ea\u7136"})]})]})]}),"\n",(0,l.jsx)(e.h3,{id:"-\u5b66\u4e60\u8d44\u6e90",children:"\ud83d\udcda \u5b66\u4e60\u8d44\u6e90"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Holtzman et al. (2020). ",(0,l.jsx)(e.em,{children:"The Curious Case of Neural Text Degeneration."})]}),"\n",(0,l.jsxs)(e.li,{children:["OpenAI API doc: ",(0,l.jsx)(e.code,{children:"temperature"}),", ",(0,l.jsx)(e.code,{children:"top_p"})," \u53c2\u6570\u8bf4\u660e"]}),"\n"]})]})}function d(s={}){const{wrapper:e}={...(0,i.R)(),...s.components};return e?(0,l.jsx)(e,{...s,children:(0,l.jsx)(h,{...s})}):h(s)}}}]);