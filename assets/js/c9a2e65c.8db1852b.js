"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[531],{28453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>d});var s=i(96540);const t={},r=s.createContext(t);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(r.Provider,{value:n},e.children)}},64105:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>f,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Leetcode/Other/1559.1559 - Detect Cycles in 2D Grid (Medium)","title":"1559.1559 - Detect Cycles in 2D Grid (Medium)","description":"LC link","source":"@site/docs/Leetcode/99.Other/1559.1559 - Detect Cycles in 2D Grid (Medium).md","sourceDirName":"Leetcode/99.Other","slug":"/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c","permalink":"/notes/docs/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/Leetcode/99.Other/1559.1559 - Detect Cycles in 2D Grid (Medium).md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c","slug":"/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c"},"sidebar":"tutorialSidebar","previous":{"title":"1554.1554 - Strings Differ by One Character - Medium","permalink":"/notes/docs/p/25f099aa-a94f-4698-a7da-b00a1f61edff"},"next":{"title":"157.157 - Read N Characters Given Read4 (Easy)","permalink":"/notes/docs/p/0f15048e-55b2-497b-a469-e63c0cae9ad0"}}');var t=i(74848),r=i(28453);const c={created_at:"2025-10-23",page_link:"/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c",slug:"/p/7e4d7d56-2c32-403c-be23-7878f2aebd1c"},d=void 0,l={},a=[{value:"Solution\uff1a DFS",id:"solution-dfs",level:2},{value:"\u4e00\u4e2a\u53ef\u6709\u53ef\u65e0\u7684\u4f18\u5316",id:"\u4e00\u4e2a\u53ef\u6709\u53ef\u65e0\u7684\u4f18\u5316",level:4}];function o(e){const n={a:"a",code:"code",h2:"h2",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://leetcode.com/problems/detect-cycles-in-2d-grid/",children:"LC link"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/1559-0.png",alt:""}),"\n",(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/1559-1.png",alt:""})]}),"\n",(0,t.jsx)(n.h2,{id:"solution-dfs",children:"Solution\uff1a DFS"}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u9898\u5728\u4e00\u822c\u7684dfs\u4e0a\u6709\u4e24\u4e2aupdate\uff1a"}),"\n",(0,t.jsx)(n.p,{children:"dfs\u7684\u76ee\u7684\uff1a\u68c0\u67e5\u5f53\u524d\u8fd9\u4e2a\u70b9\u5bf9\u5e94\u7684path\u662f\u4e0d\u662fcycle\u3002"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"visiting & visited \u4e24\u4e2a\u72b6\u6001"}),"\n"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"self.vis"}),": \u521d\u59cb\u503c\u4e3a\u4e00\u4e2a\u5168\u662f 0 \u7684\u548cgrid\u540c\u957f\u5bbd\u7684matrix, \u5982\u679cvisited\u5219",(0,t.jsx)(n.code,{children:"self.vis[r][c]=2"}),"\uff0c\u5982\u679cvisiting\u5219\u662f1"]}),"\n",(0,t.jsx)(n.li,{children:"\u6bcf\u6b21dfs\uff0c\u5148\u68c0\u67e5\u662f\u4e0d\u662fvisited\uff0c\u5982\u679c\u662f\u5219\u8fd4\u56de false (\u5f53\u524d\u8fd9\u4e2a\u70b9\u5bf9\u5e94\u7684path\u4e0d\u662fcycle)\uff0c\u5982\u679c\u4e0d\u662f\u518d\u5f80\u4e0b\u770b,"}),"\n",(0,t.jsx)(n.li,{children:"\u5982\u679c\u662fvisiting\uff0c\u60f3\u50cf\u6210\u8d2a\u5403\u86c7\u54ac\u5230\u5c3e\u5df4\uff0c\u8bf4\u660e\u662fcycle\uff0c\u8fd4\u56detrue"}),"\n",(0,t.jsx)(n.li,{children:"\u5982\u679c\u4e24\u8005\u90fd\u4e0d\u662f\uff0c\u5c31\u5f80\u4e0b\u904d\u5386\uff0c\u5148\u628a\u5f53\u524d\u6807\u8bb0\u62101 visiting\uff0c\u518d\u904d\u5386\u5b83\u5468\u56f44\u4e2a\u70b9\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsxs)(n.li,{children:["\u5728\u904d\u5386\u4e00\u4e2a\u70b9\u7684\u5468\u56f4\u56db\u4e2a\u70b9\u7684\u65f6\u5019\uff0c\u8981\u5148\u68c0\u67e5\u4ed6\u4eec\u662f\u4e0d\u662f\u4e0a\u4e00\u4e2a\u8fc7\u6765\u7684\u70b9 (e.g., \u4ece A \u5230 B \u53c8\u56de\u5230\u4e86 A)\uff0c\u4e0d\u662f\u624d\u80fd\u8fdb\u5165dfs\u3002\u6240\u4ee5\u8981\u8bb0\u5f55 ",(0,t.jsx)(n.code,{children:"last_r"}),", ",(0,t.jsx)(n.code,{children:"last_c"}),", \u5c31\u662f\u4e0a\u4e00\u8f6e\u7684r \u548c c\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"class Solution:\n    def containsCycle(self, grid):\n        self.vis = [[0] * len(grid[0]) for _ in range(len(grid))]\n        # 2 means visited, 1 means visiting, 0 means unvisited\n        for r in range(len(grid)):\n            for c in range(len(grid[0])):\n                if self.vis[r][c] == 0:\n                    has_cycle = self.dfs(grid, r, c, -1, -1, grid[r][c])\n                    if has_cycle: return True\n        return False\n\n    def dfs(self, grid, r, c, last_r, last_c, target):\n        if not self.in_area(grid,r,c) or grid[r][c] != target:\n            return False\n        \n        if self.vis[r][c] == 2:\n            return False\n\n        if self.vis[r][c] == 1:\n            return True\n        \n        self.vis[r][c] = 1\n        has_cycle = False\n        for x, y in [(r-1, c), (r+1, c), (r, c-1), (r, c+1)]:\n            # \u5fc5\u987b\u5728\u8fdb\u5165dfs\u4e4b\u524dcheck\uff0c\u4e0d\u7136\u5728\u4e0b\u4e00\u8f6e\n            # \u5c31\u5931\u53bb\u4e86last_r, last_c \u7684\u503c\n            if x != last_r or y != last_c: #\u6ce8\u610f\u5fc5\u987b\u662f or\uff0c\u4e0d\u662fand\n                has_cycle |= self.dfs(grid, x, y, r, c, target)\n                if has_cycle: break\n        self.vis[r][c] = 2\n        return has_cycle\n    \n    def in_area(self, grid, r, c):\n        return 0 <= r < len(grid) and 0 <= c < len(grid[0])\n"})}),"\n",(0,t.jsx)(n.h4,{id:"\u4e00\u4e2a\u53ef\u6709\u53ef\u65e0\u7684\u4f18\u5316",children:"\u4e00\u4e2a\u53ef\u6709\u53ef\u65e0\u7684\u4f18\u5316"}),"\n",(0,t.jsx)(n.p,{children:"\u4e8b\u5b9e\u4e0a\uff0c\u5199\u5b8c\u4ee3\u7801\u4ee5\u540e\u53ef\u4ee5\u63d0\u4e00\u4e0b\uff0c\u5176\u5b9e\u5728\u8fd9\u9053\u9898\u91ccvisiting\u72b6\u6001\u662f\u4e0d\u9700\u8981\u7684\uff0c\u53ef\u4ee5\u76f4\u63a5\u6807\u8bb0\u6210visited\uff0c\u539f\u56e0\u662fvisited\u662f\u6807\u8bb0\u4e00\u4e2a\u70b9\u5df2\u7ecf\u5728\u522b\u4eba\u7684path\u4e0a\u88ab\u8d70\u8fc7\u4e86\u3002\u4f46\u662f\u5728\u8fd9\u4e00\u9898\u91cc\uff0c\u5982\u679c\u522b\u4eba\u7684path\u4f1a\u8d70\u5230\u8fd9\u4e2a\u70b9\uff0c\u90a3\u5fc5\u7136\u4f1a\u8d70\u5230\u5f53\u524dpath\u4e0a\u7684\u8d77\u70b9\uff0c\u6240\u4ee5\u6839\u672c\u5c31\u4e0d\u4f1a\u8fdb\u53bb\uff0c\u6240\u4ee5\u5176\u5b9evisiting\u72b6\u6001\u662f\u4e0d\u9700\u8981\u7684\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u4f46\u662f\uff0c\u8fd9\u6837\u4f1a\u5f71\u54cd\u4ee3\u7801\u53ef\u8bfb\u6027\uff0c\u5e76\u4e14\u7b97\u6cd5\u8868\u793a\u7684\u4e0d\u6e05\u695a\uff0c\u6240\u4ee5\u6211\u89c9\u5f97\u8fd8\u662f\u4ee5\u4e0a\u7b97\u6cd5\u66f4\u6e05\u695a\u3002"})]})}function f(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);