"use strict";(globalThis.webpackChunknotes=globalThis.webpackChunknotes||[]).push([[90983],{252:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Leetcode/Other/778.778 - Swim in Rising Water - Hard","title":"778.778 - Swim in Rising Water - Hard","description":"LC link","source":"@site/docs/03. Leetcode/99.Other/778.778 - Swim in Rising Water - Hard.md","sourceDirName":"03. Leetcode/99.Other","slug":"/p/0856f037-5a23-429b-a7bc-6e16501c9837","permalink":"/notes/docs/p/0856f037-5a23-429b-a7bc-6e16501c9837","draft":false,"unlisted":false,"editUrl":"https://github.com/emmableu/notes/edit/main/docs/03. Leetcode/99.Other/778.778 - Swim in Rising Water - Hard.md","tags":[],"version":"current","frontMatter":{"created_at":"2025-10-23","page_link":"/p/0856f037-5a23-429b-a7bc-6e16501c9837","slug":"/p/0856f037-5a23-429b-a7bc-6e16501c9837"},"sidebar":"tutorialSidebar","previous":{"title":"777.777 - Swap Adjacent in LR String - Medium","permalink":"/notes/docs/p/ef53ac9e-0fc9-432f-bad9-e67406a7a297"},"next":{"title":"787.787 - Cheapest Flights Within K Stops - Medium","permalink":"/notes/docs/p/b03f1157-436c-462b-81a7-a205bc57b1d1"}}');var r=i(74848),s=i(28453);const c={created_at:"2025-10-23",page_link:"/p/0856f037-5a23-429b-a7bc-6e16501c9837",slug:"/p/0856f037-5a23-429b-a7bc-6e16501c9837"},l=void 0,d={},a=[{value:"solution:  BFS + priority queue (Dijkstra)",id:"solution--bfs--priority-queue-dijkstra",level:2},{value:"\u7b56\u75651: \u6bcf\u6b21\u90fd\u8d70<strong>\u5f53\u524d\u70b9\u7684\u5468\u56f4</strong>\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9 \uff08\u4e0d\u884c\uff09",id:"\u7b56\u75651-\u6bcf\u6b21\u90fd\u8d70\u5f53\u524d\u70b9\u7684\u5468\u56f4\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9-\u4e0d\u884c",level:3},{value:"\u7b56\u75652: \u6bcf\u6b21\u90fd\u8d70\u6216\u64a4\u56de\u5230<strong>\u5f53\u524d\u70b9\u7684\u5468\u56f4\uff0c \u548c\u4e4b\u524d\u8d70\u8fc7\u7684\u70b9\u7684\u5468\u56f4</strong>\u4e2d\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9 \uff08\u884c\uff09",id:"\u7b56\u75652-\u6bcf\u6b21\u90fd\u8d70\u6216\u64a4\u56de\u5230\u5f53\u524d\u70b9\u7684\u5468\u56f4-\u548c\u4e4b\u524d\u8d70\u8fc7\u7684\u70b9\u7684\u5468\u56f4\u4e2d\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9-\u884c",level:3},{value:"\u9700\u8981\u5b9a\u4e49\u7684\u53d8\u91cf\uff1a",id:"\u9700\u8981\u5b9a\u4e49\u7684\u53d8\u91cf",level:2}];function o(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://leetcode.cn/problems/swim-in-rising-water/",children:"LC link"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://raw.githubusercontent.com/emmableu/image/master/778-0.png",alt:""})}),"\n",(0,r.jsx)(e.h2,{id:"solution--bfs--priority-queue-dijkstra",children:"solution:  BFS + priority queue (Dijkstra)"}),"\n",(0,r.jsxs)(e.h3,{id:"\u7b56\u75651-\u6bcf\u6b21\u90fd\u8d70\u5f53\u524d\u70b9\u7684\u5468\u56f4\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9-\u4e0d\u884c",children:["\u7b56\u75651: \u6bcf\u6b21\u90fd\u8d70",(0,r.jsx)(e.strong,{children:"\u5f53\u524d\u70b9\u7684\u5468\u56f4"}),"\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9 \uff08\u4e0d\u884c\uff09"]}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u662f\u8fd9\u4f1a\u6709\u95ee\u9898\uff1a\u5f53\u67d0\u4e2a\u70b9\u7684\u5468\u56f4\u6700\u5c0f\u7684\u70b9\u5bf9\u5e94\u7684\u8def\u5f84\u53ef\u80fd\u53cd\u800c\u662f\u6bd4\u8f83\u5927\u7684\uff0c\u6bd4\u5982\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"0 1 4\n2 8 7\n3 6 5\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u4e24\u6761\u8def\u5f84"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"start -> 1 -> 4 -> 7 -> end, \u8fd9\u4e2a\u9075\u4ece\u4e86\u7b56\u75651\uff0c\u4f46\u662f\u6700\u540e\u8fd4\u56de7"}),"\n",(0,r.jsx)(e.li,{children:"start -> 2 -> 3 -> 6 -> end\uff0c \u8fd9\u4e2a\u9075\u4ece\u4e86\u4e0b\u9762\u7684\u7b56\u75652\uff0c \u8fd4\u56de6\uff0c \u6bd4\u4e0a\u9762\u7684\u65b9\u6cd5\u66f4\u597d\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"\u7b56\u75652-\u6bcf\u6b21\u90fd\u8d70\u6216\u64a4\u56de\u5230\u5f53\u524d\u70b9\u7684\u5468\u56f4-\u548c\u4e4b\u524d\u8d70\u8fc7\u7684\u70b9\u7684\u5468\u56f4\u4e2d\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9-\u884c",children:["\u7b56\u75652: \u6bcf\u6b21\u90fd\u8d70\u6216\u64a4\u56de\u5230",(0,r.jsx)(e.strong,{children:"\u5f53\u524d\u70b9\u7684\u5468\u56f4\uff0c \u548c\u4e4b\u524d\u8d70\u8fc7\u7684\u70b9\u7684\u5468\u56f4"}),"\u4e2d\u6c34\u4f4d\u6700\u4f4e\u7684\u70b9 \uff08\u884c\uff09"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6ce8\u610f\uff0c\u867d\u7136\u5f53\u524d\u7684\u5468\u56f4\u53ea\u67094\u4e2a\u70b9\uff0c\u4f46\u662f\u53ef\u4ee5\u5047\u8bbe\u4e4b\u524d\u5982\u679c\u6839\u672c\u6ca1\u8d70\u5230\u5f53\u524d\u7684\u8fd9\u4e2a\u70b9\uff0c\u90a3\u4e48\u4e4b\u524d\u90a3\u4e9b\u70b9\u7684\u5468\u56f4\u7684\u70b9\uff0c\u5176\u5b9e\u4e5f\u662fcandidate"}),"\n",(0,r.jsxs)(e.li,{children:["\u6bd4\u5982\uff0c\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u91cc\uff0c\u53ef\u4ee5\uff1a\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5148\u8d70\u52301\uff0c\u56e0\u4e3a\u5bf90\u8fd9\u4e2a\u70b9\u6765\u8bf41\u6700\u5c0f"}),"\n",(0,r.jsx)(e.li,{children:"\u7136\u540e\u6bd4\u8f83 1\u5468\u56f4\u7684\u70b9 \uff084\uff0c 8\uff09 \u548c\u524d\u97620\u5468\u56f4\u7684\u70b9\uff082\uff09\uff0c 2\u6700\u5c0f\uff0c"}),"\n",(0,r.jsx)(e.li,{children:"\u6240\u4ee5\uff0c\u8fd9\u91cc\u5176\u5b9e\u662f\u64a4\u56de\u7136\u540e\u518d\u8d70\u4e86\u4e00\u683c\uff0c\u8d70\u52302\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6839\u636e ",(0,r.jsx)(e.a,{href:"https://emmableu.github.io/blog/pages/8b354b/#_1-%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86",children:"BFS\u6a21\u7248"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"queue\u91cc\u9762\u5b58\u7684\u662f\u4e34\u65f6\uff08\u5728\u4e0b\u4e00\u5c42bfs\u91cc\u9762\uff09\u8981\u7528\u7684\u53d8\u91cf"}),"\n",(0,r.jsx)(e.li,{children:"vis\u91cc\u9762\u5b58\u7684\u662f\u5168\u5c40\u4e00\u76f4\u8981\u7528\u7684\u53d8\u91cf"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u4f46\u662f\u533a\u522b\u662f\u5224\u65ad\u662f\u4e0d\u662ftarget \u8981\u5728\u6269\u6563\u4e4b\u524d\u505a\uff0c\u8fd9\u6837\u624d\u80fd\u4fdd\u8bc1\u51fa\u6765\u7684\u70b9\u662fheap\u91cc\u9762\u7684\u6700\u5c0f\u7684\u70b9\u3002"})}),"\n",(0,r.jsx)(e.h2,{id:"\u9700\u8981\u5b9a\u4e49\u7684\u53d8\u91cf",children:"\u9700\u8981\u5b9a\u4e49\u7684\u53d8\u91cf\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"q"}),", \u5b9a\u4e49\u7684\u662f\u6bcf\u6b21\u4e34\u65f6\u8981\u7528\u7684\u53d8\u91cf\uff0c\u8fd9\u91cc\u7528\u4e00\u4e2aheapq\u6765\u4fdd\u5b58",(0,r.jsx)(e.strong,{children:"\u5f53\u524d\u70b9\u7684\u5468\u56f4\uff0c \u548c\u4e4b\u524d\u8d70\u8fc7\u7684\u70b9\u7684\u5468\u56f4"}),"\u7684\u70b9\u7684\u9ad8\u5ea6"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"vis"})," \u5b9a\u4e49\u7684\u662f\u5168\u5c40\u8981\u7528\u7684\u5e2e\u52a9filter\u7684\u53d8\u91cf\uff0c\u8fd9\u91cc\u8bb0\u5f55\u8d70\u8fc7\u7684\u70b9\u7684 (r, c) \u503c \uff08\u5bf9python\u6765\u8bf4\uff0c\u628a\u8fd9\u4e2a\u5199\u6210\u4e00\u4e2a {(r, c)} \u7684set\uff0c\u6bd4\u7528\u4e00\u4e2amatrix\uff0c\u7136\u540e\u5728\u4e0a\u9762\u8ba1\u8d70\u6ca1\u8d70\u8fc7\uff081/0\uff09\u4f3c\u4e4e\u66f4\u5feb\uff0c\u867d\u7136\u90fd\u662f o(1)\uff09"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"void BFS()\n{\n    \u5224\u65ad\u8fb9\u754c\u6761\u4ef6\uff0c\u662f\u5426\u80fd\u76f4\u63a5\u8fd4\u56de\u7ed3\u679c\u7684\u3002\uff1a \u672c\u9898\u5982\u679c\u957f\u5bbd\u6700\u5c11\u662f2\uff0c\u6240\u4ee5\u6ca1\u95ee\u9898\n\n    \u5b9a\u4e49\u961f\u5217\uff0c\u5176\u4e2d\u6709\u4e00\u4e2a\u5143\u7d20\u662f\u8d77\u59cb\u4f4d\u7f6e\uff1a \u521d\u59cb\u5316 q = [(grid[0][0], 0, 0)]\n\n    \u5b9a\u4e49\u5907\u5fd8\u5f55(visited)\uff0cvis = {(0, 0)}\n\n    \u521d\u59cb\u5316step = 0,\u6839\u636e\u5728\u54ea\u91cc\u8fd4\u56destep\uff0cstep\u4e5f\u53ef\u80fd\u521d\u59cb\u5316\u4e3a-1\n\n    while (\u961f\u5217\u4e0d\u4e3a\u7a7a) {  \u672c\u9898\u4e0d\u9700\u8981\u961f\u5217\u4e0d\u4e3a\u7a7a\uff0c\u56e0\u4e3a\u4e0d\u9700\u8981pop\u5b8c\uff0c \u6240\u4ee5\u662f while (True)\n        \u83b7\u53d6\u5f53\u524d\u961f\u5217\u4e2d\u7684\u5143\u7d20\u4e2a\u6570\u3002 size = len(q) \u672c\u9898\u4e5f\u4e0d\u9700\u8981\u904d\u5386\u5f53\u524d\u6240\u6709\u7684\uff0c\u53ea\u9700\u8981pop\u51fa\u4e00\u4e2a\u6700\u5c0f\u7684\n        step += 1   \u672c\u9898\u4e0d\u9700\u8981\u8bb0\u5f55size \n        for (\u5143\u7d20\u4e2a\u6570) {   pop\u51fa\u6700\u5c0f\u7684\u53ea\u6709\u4e00\u4e2a\u5143\u7d20\n            \u53d6\u51fa\u4e00\u4e2a\u4f4d\u7f6e\u8282\u70b9\u3002 cap, r, c = heapq.heappop(q)\n\t\t\t\t\t\t      res = max(res, cap)\n            \u83b7\u53d6\u5b83\u5bf9\u5e94\u7684\u4e0b\u4e00\u4e2a\u6240\u6709\u7684\u8282\u70b9\u3002 for x, y in (r - 1, c), (r + 1, c), (r, c - 1), (r, c + 1):\n            \u5982\u679c\u5f53\u524d\u6269\u6563\u7ed3\u679c == target: \n                return step\n\t\t\t\t\t\t                if r == len(grid) - 1 and c == len(grid[0]) - 1:\n\t\t\t\t\t\t\t\t\t\t\treturn res\n            \u5982\u679c\u5f53\u524d\u6269\u6563\u7ed3\u679c not in vis:\n                                          \n                \u8fc7\u6ee4\n                                      if not (0 <= x < m and 0 <= y < n):\n                                          continue\n\n                \u5f53\u524d\u7684\u6269\u6563\u7ed3\u679c\u52a0\u5165temp\u3002 heapq.heappush(q, (grid[x][y], x, y))\n                visited.add()          vis.add((x, y))\n        }\n    }\n    \u8fd4\u56de (\u5982\u679c\u662fsearch\uff0c\u5219\u53ef\u80fd\u662f\u8fd4\u56de-1) \u4e0a\u9762\u90a3\u4e2a\u80af\u5b9a\u4f1a\u8fd4\u56de\uff0c\u6240\u4ee5\u8fd9\u91cc\u4e0d\u9700\u8981\u8fd4\u56de\n}\n\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import heapq\nclass Solution:\n    def swimInWater(self, grid: List[List[int]]) -> int:\n        q = [(grid[0][0], 0, 0)]\n        vis = set()\n        res = 0 # \u56e0\u4e3agrid\u4e2d\u7684\u5143\u7d20\u6700\u5c0f\u4e3a0\uff0c\u6240\u4ee5res\u521d\u59cb\u5316\u4e3a0\u5c31\u597d\n        while True:\n            cap, r, c = heapq.heappop(q)\n            res = max(res, cap)\n            if r == len(grid) - 1 and c == len(grid[0]) - 1:\n                return res\n            vis.add((r, c))\n            for x, y in (r + 1, c), (r - 1, c), (r, c + 1), (r, c - 1):\n                if self.in_area(grid, x, y) and (x, y) not in vis:\n                    heapq.heappush(q, (grid[x][y], x, y))\n          \n    def in_area(self, grid, r, c):\n        return 0 <= r < len(grid) and 0 <= c < len(grid[0])\n"})}),"\n",(0,r.jsxs)(e.p,{children:["time complexity: ",(0,r.jsx)(e.code,{children:"O((n^2)*logn)"})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["pq contains at most n^2 elements, pop time complexity each time is is O(log(n^2)) = ",(0,r.jsx)(e.code,{children:"O(2*logn)"})]}),"\n",(0,r.jsxs)(e.li,{children:["At most we will pop n^2 times\n",(0,r.jsx)(e.code,{children:"O((n^2)*2*logn) = O((n^2)*logn)"})]}),"\n"]})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(o,{...n})}):o(n)}},28453:(n,e,i)=>{i.d(e,{R:()=>c,x:()=>l});var t=i(96540);const r={},s=t.createContext(r);function c(n){const e=t.useContext(s);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:c(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);