<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¼¼ç„¶æ€§ä¸æ¦‚ç‡çš„åŒºåˆ« - Likelihood vs Probability</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 40px;
        }
        
        .section {
            margin: 40px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #3498db;
        }
        
        .concept-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .keyword {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        .chart-container {
            margin: 30px 0;
            text-align: center;
        }
        
        .distribution-chart {
            width: 100%;
            height: 300px;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin: 20px 0;
            background: linear-gradient(to bottom, #f8f9fa, #ffffff);
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .control-group label {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2c3e50;
        }
        
        input[type="range"] {
            width: 200px;
            margin: 10px 0;
        }
        
        .value-display {
            font-size: 1.1em;
            color: #e74c3c;
            font-weight: bold;
        }
        
        .explanation {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.6;
        }
        
        .highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
            margin: 15px 0;
        }
        
        .data-point {
            display: inline-block;
            width: 12px;
            height: 12px;
            background: #e74c3c;
            border-radius: 50%;
            margin: 0 2px;
        }
        
        .button {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            margin: 10px;
            transition: transform 0.2s;
        }
        
        .button:hover {
            transform: translateY(-2px);
        }
        
        .button:disabled {
            background: #bdc3c7;
            transform: none;
            cursor: not-allowed;
        }
        
        .step-button {
            background: linear-gradient(45deg, #27ae60, #2ecc71);
            margin: 5px;
            padding: 10px 20px;
            font-size: 0.9em;
        }
        
        .formula {
            background: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            text-align: center;
            margin: 20px 0;
        }
        
        .mle-step {
            margin: 30px 0;
            padding: 20px;
            background: #ffffff;
            border-radius: 12px;
            border: 2px solid #e8f4f8;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        
        .mle-step h3 {
            color: #2c3e50;
            font-size: 1.4em;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }
        
        .optimization-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .optimization-info {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .gradient-info {
            background: #e8f5e8;
            border-left: 4px solid #27ae60;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .likelihood-marker {
            position: absolute;
            width: 3px;
            height: 20px;
            background: #e74c3c;
            transform: translateX(-1.5px);
        }
        
        .method-selector {
            text-align: center;
            margin: 20px 0;
        }
        
        .method-selector select {
            padding: 10px 20px;
            border-radius: 8px;
            border: 2px solid #3498db;
            font-size: 1em;
            background: white;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .controls, .optimization-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ä¼¼ç„¶æ€§ä¸æ¦‚ç‡çš„åŒºåˆ«</h1>
        <p class="subtitle">Likelihood vs Probability - åŒ»å­¦è¯Šæ–­ä¸­çš„åº”ç”¨ç¤ºä¾‹</p>
        
        <!-- Introduction -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">æ¦‚å¿µä»‹ç» Concepts</span>
            </h2>
            <div class="explanation">
                <p><strong>æ¦‚ç‡ (Probability)</strong> æ˜¯åœ¨å·²çŸ¥å‚æ•°çš„æƒ…å†µä¸‹ï¼Œé¢„æµ‹æŸä¸ªäº‹ä»¶å‘ç”Ÿçš„å¯èƒ½æ€§ã€‚</p>
                <p><strong>ä¼¼ç„¶æ€§ (Likelihood)</strong> æ˜¯åœ¨å·²ç»è§‚å¯Ÿåˆ°æŸä¸ªäº‹ä»¶çš„æƒ…å†µä¸‹ï¼Œæ¨æµ‹å“ªäº›å‚æ•°æœ€å¯èƒ½å¯¼è‡´è¿™ä¸ªç»“æœã€‚</p>
                <br>
                <p><strong>åŒ»å­¦è¯Šæ–­ä¾‹å­ï¼š</strong></p>
                <p>ğŸ¥ å‡è®¾æˆ‘ä»¬åœ¨ç ”ç©¶ä¸€ç§æ–°çš„è¡€å‹æµ‹é‡ä»ªå™¨çš„å‡†ç¡®æ€§ã€‚æˆ‘ä»¬çŸ¥é“è¿™ä¸ªä»ªå™¨çš„æµ‹é‡ç»“æœæœä»æ­£æ€åˆ†å¸ƒã€‚</p>
            </div>
        </div>

        <!-- Probability Section -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">æ¦‚ç‡ Probability</span>
            </h2>
            <div class="explanation">
                <p><strong>æƒ…æ™¯ï¼š</strong>å¦‚æœæˆ‘ä»¬çŸ¥é“è¡€å‹ä»ªå™¨çš„å¹³å‡è¯¯å·®æ˜¯0mmHgï¼Œæ ‡å‡†å·®æ˜¯2.5mmHgï¼Œé‚£ä¹ˆæµ‹é‡æŸä¸ªç‰¹å®šæ‚£è€…æ—¶å¾—åˆ°ä¸åŒè¯¯å·®å€¼çš„<span class="keyword">æ¦‚ç‡</span>æ˜¯å¤šå°‘ï¼Ÿ</p>
            </div>
            
            <div class="chart-container">
                <canvas id="probabilityChart" class="distribution-chart"></canvas>
                <p><strong>çº¢è‰²åŒºåŸŸ</strong>è¡¨ç¤ºæµ‹é‡è¯¯å·®åœ¨-2åˆ°+2 mmHgä¹‹é—´çš„æ¦‚ç‡</p>
            </div>
            
            <div class="highlight">
                <strong>æ¦‚ç‡æ€ç»´ï¼š</strong>å·²çŸ¥å‚æ•°ï¼ˆå‡å€¼=0ï¼Œæ ‡å‡†å·®=2.5ï¼‰ï¼Œè®¡ç®—è§‚å¯Ÿåˆ°ç‰¹å®šæµ‹é‡è¯¯å·®çš„å¯èƒ½æ€§ã€‚
            </div>
        </div>

        <!-- Likelihood Section -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">ä¼¼ç„¶æ€§ Likelihood</span>
            </h2>
            <div class="explanation">
                <p><strong>æƒ…æ™¯ï¼š</strong>ç°åœ¨æˆ‘ä»¬å®é™…æµ‹é‡äº†ä¸€ä¸ªæ‚£è€…ï¼Œå¾—åˆ°äº†è¯¯å·®å€¼ä¸º+3mmHgã€‚åŸºäºè¿™ä¸ªè§‚å¯Ÿç»“æœï¼Œæˆ‘ä»¬æƒ³è¦æ¨æµ‹è¿™ä¸ªä»ªå™¨çš„çœŸå®å‚æ•°ï¼ˆå¹³å‡è¯¯å·®ï¼‰æ˜¯å¤šå°‘ã€‚</p>
            </div>
            
            <div class="chart-container">
                <canvas id="likelihoodChart" class="distribution-chart"></canvas>
                <div class="controls">
                    <div class="control-group">
                        <label>è°ƒæ•´å¹³å‡è¯¯å·®å‚æ•° (Mean Parameter)</label>
                        <input type="range" id="meanSlider" min="-2" max="6" step="0.1" value="3">
                        <div class="value-display">å‡å€¼ = <span id="meanValue">3.0</span> mmHg</div>
                    </div>
                </div>
                <p><strong>çº¢ç‚¹</strong>è¡¨ç¤ºè§‚å¯Ÿåˆ°çš„æµ‹é‡è¯¯å·® (+3mmHg)</p>
                <p><strong>ä¼¼ç„¶æ€§å€¼ï¼š</strong><span id="likelihoodValue">0.16</span></p>
            </div>
            
            <div class="highlight">
                <strong>ä¼¼ç„¶æ€§æ€ç»´ï¼š</strong>å·²çŸ¥è§‚å¯Ÿç»“æœï¼ˆè¯¯å·®=+3mmHgï¼‰ï¼Œè¯„ä¼°ä¸åŒå‚æ•°å€¼çš„å¯èƒ½æ€§ã€‚å“ªä¸ªå¹³å‡è¯¯å·®å‚æ•°æœ€èƒ½è§£é‡Šæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„æ•°æ®ï¼Ÿ
            </div>
        </div>

        <!-- Maximum Likelihood Process -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">æœ€å¤§ä¼¼ç„¶ä¼°è®¡è¿‡ç¨‹ Maximum Likelihood Process</span>
            </h2>
            <div class="explanation">
                <p><strong>æƒ…æ™¯ï¼š</strong>æˆ‘ä»¬æµ‹é‡äº†å¤šä¸ªæ‚£è€…çš„è¡€å‹ï¼Œç°åœ¨éœ€è¦ç¡®å®šæœ€ä½³çš„åˆ†å¸ƒå‚æ•°æ¥è§£é‡Šè¿™äº›æ•°æ®ã€‚</p>
            </div>
            
            <!-- Step 1: Data Collection -->
            <div class="mle-step">
                <h3>æ­¥éª¤1ï¼šæ•°æ®æ”¶é›† (Data Collection)</h3>
                <div class="explanation">
                    <p>æˆ‘ä»¬æ”¶é›†äº†10ä¸ªè¡€å‹æµ‹é‡çš„è¯¯å·®æ•°æ®ç‚¹ï¼š</p>
                    <p><strong>æµ‹é‡è¯¯å·®æ•°æ®ï¼š</strong>1.2, 2.8, 3.1, 2.5, 3.7, 2.9, 3.2, 2.1, 3.8, 2.6 (mmHg)</p>
                </div>
                <div class="chart-container">
                    <canvas id="step1Chart" class="distribution-chart"></canvas>
                    <div style="text-align: center; margin: 15px 0;">
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <div class="data-point"></div>
                        <br><small>æµ‹é‡è¯¯å·®æ•°æ®ç‚¹ (ä»ä½åˆ°é«˜)</small>
                    </div>
                </div>
                <div class="highlight">
                    <strong>"æ­£æ€åˆ†å¸ƒå‡è®¾" æ„å‘³ç€ï¼š</strong>
                    <br>1) æˆ‘ä»¬æœŸæœ›å¤§éƒ¨åˆ†æµ‹é‡ç»“æœï¼ˆè¯¯å·®ï¼‰æ¥è¿‘å¹³å‡å€¼
                    <br>2) æˆ‘ä»¬æœŸæœ›æµ‹é‡ç»“æœç›¸å¯¹å¯¹ç§°åœ°åˆ†å¸ƒåœ¨å¹³å‡å€¼å‘¨å›´
                    <br><em>ç°åœ¨æˆ‘ä»¬éœ€è¦æ‰¾åˆ°æœ€ä½³çš„å‡å€¼å‚æ•°Î¼æ¥è§£é‡Šè¿™äº›æ•°æ®</em>
                </div>
            </div>

            <!-- Step 2: Poor Fit -->
            <div class="mle-step">
                <h3>æ­¥éª¤2ï¼šæ‹Ÿåˆåº¦å·®çš„æƒ…å†µ (Poor Fit)</h3>
                <div class="explanation">
                    <p>å¦‚æœæˆ‘ä»¬å‡è®¾å‡å€¼Î¼ = 0ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
                </div>
                <div class="chart-container">
                    <canvas id="step2Chart" class="distribution-chart"></canvas>
                    <div class="highlight" style="background: #ffebee;">
                        <strong>è”åˆä¼¼ç„¶æ€§è®¡ç®—ï¼š</strong>
                        <br>L(Î¼=0) = P(Xâ‚=1.2|Î¼=0) Ã— P(Xâ‚‚=2.8|Î¼=0) Ã— ... Ã— P(Xâ‚â‚€=2.6|Î¼=0)
                        <br>æ¯ä¸ªè§‚æµ‹å€¼çš„æ¦‚ç‡éƒ½ç›¸å¯¹è¾ƒå°ï¼Œå› ä¸ºæ•°æ®ç‚¹è¿œç¦»å‡è®¾çš„å‡å€¼
                        <br><strong>ç»“æœï¼šè”åˆä¼¼ç„¶æ€§å¾ˆä½</strong>
                    </div>
                </div>
            </div>

            <!-- Step 3: Better Fit -->
            <div class="mle-step">
                <h3>æ­¥éª¤3ï¼šæ›´å¥½çš„æ‹Ÿåˆ (Better Fit)</h3>
                <div class="explanation">
                    <p>å¦‚æœæˆ‘ä»¬è°ƒæ•´å‡å€¼Î¼ = 2.79ï¼ˆæ¥è¿‘æ•°æ®çš„æ ·æœ¬å‡å€¼ï¼‰ï¼Œä¼šæ€æ ·ï¼Ÿ</p>
                </div>
                <div class="chart-container">
                    <canvas id="step3Chart" class="distribution-chart"></canvas>
                    <div class="highlight" style="background: #e8f5e8;">
                        <strong>è”åˆä¼¼ç„¶æ€§è®¡ç®—ï¼š</strong>
                        <br>L(Î¼=2.79) = P(Xâ‚=1.2|Î¼=2.79) Ã— P(Xâ‚‚=2.8|Î¼=2.79) Ã— ... Ã— P(Xâ‚â‚€=2.6|Î¼=2.79)
                        <br>ç°åœ¨æ¯ä¸ªè§‚æµ‹å€¼çš„æ¦‚ç‡éƒ½å¢å¤§äº†ï¼Œå› ä¸ºæ•°æ®ç‚¹æ›´æ¥è¿‘å‡è®¾çš„å‡å€¼
                        <br><strong>ç»“æœï¼šè”åˆä¼¼ç„¶æ€§æ˜æ˜¾æé«˜</strong>
                    </div>
                </div>
            </div>

            <!-- Step 4: Detailed Optimization Process -->
            <div class="mle-step">
                <h3>æ­¥éª¤4ï¼šè¯¦ç»†ä¼˜åŒ–è¿‡ç¨‹ (Detailed Optimization Process)</h3>
                <div class="explanation">
                    <p>ç°åœ¨æˆ‘ä»¬éœ€è¦ç³»ç»Ÿæ€§åœ°æ‰¾åˆ°èƒ½å¤Ÿ<strong>æœ€å¤§åŒ–ä¼¼ç„¶æ€§</strong>çš„Î¼å€¼ã€‚æœ‰å¤šç§ä¼˜åŒ–æ–¹æ³•å¯ä»¥é€‰æ‹©ï¼š</p>
                </div>

                <div class="method-selector">
                    <label><strong>é€‰æ‹©ä¼˜åŒ–æ–¹æ³•ï¼š</strong></label>
                    <select id="optimizationMethod">
                        <option value="analytical">è§£æè§£æ³• (Analytical Solution)</option>
                        <option value="gradient">æ¢¯åº¦ä¸‹é™æ³• (Gradient Descent)</option>
                        <option value="newton">ç‰›é¡¿æ³• (Newton's Method)</option>
                        <option value="grid">ç½‘æ ¼æœç´¢ (Grid Search)</option>
                    </select>
                </div>

                <div class="chart-container">
                    <canvas id="likelihoodFunction" class="distribution-chart"></canvas>
                    
                    <div class="optimization-controls">
                        <button class="button step-button" onclick="resetOptimization()" id="resetBtn">ğŸ”„ é‡ç½®</button>
                        <button class="button step-button" onclick="stepOptimization()" id="stepBtn">â–¶ï¸ å•æ­¥æ‰§è¡Œ</button>
                        <button class="button step-button" onclick="autoOptimization()" id="autoBtn">â¯ï¸ è‡ªåŠ¨ä¼˜åŒ–</button>
                        <button class="button step-button" onclick="pauseOptimization()" id="pauseBtn" style="display: none;">â¸ï¸ æš‚åœ</button>
                    </div>
                </div>

                <div class="optimization-info" id="optimizationInfo">
                    <div id="currentStep">ç­‰å¾…å¼€å§‹ä¼˜åŒ–...</div>
                    <div id="currentValues">å½“å‰å‚æ•°å€¼: Î¼ = ?, ä¼¼ç„¶æ€§ = ?</div>
                    <div id="gradientInfo">æ¢¯åº¦ä¿¡æ¯: ?</div>
                    <div id="convergenceInfo">æ”¶æ•›çŠ¶æ€: ?</div>
                </div>

                <!-- Method-specific explanations -->
                <div id="methodExplanation">
                    <div class="gradient-info" id="analyticalExplanation">
                        <strong>ğŸ“ˆ è§£æè§£æ³•ï¼š</strong>å¯¹äºæ­£æ€åˆ†å¸ƒï¼ŒMLEæœ‰é—­å¼è§£ï¼šÎ¼Ì‚ = (1/n)âˆ‘xáµ¢
                        <br>è¿™æ˜¯æ•°å­¦ä¸Šçš„ç²¾ç¡®è§£ï¼Œæ— éœ€è¿­ä»£ä¼˜åŒ–ã€‚
                    </div>
                    
                    <div class="gradient-info" id="gradientExplanation" style="display: none;">
                        <strong>ğŸ“ˆ æ¢¯åº¦ä¸‹é™æ³•ï¼š</strong>é€šè¿‡è®¡ç®—ä¼¼ç„¶å‡½æ•°ç›¸å¯¹äºÎ¼çš„æ¢¯åº¦æ¥è¿­ä»£æ›´æ–°å‚æ•°
                        <br>æ›´æ–°å…¬å¼ï¼šÎ¼â‚™â‚‘w = Î¼â‚’â‚—d + Î± Ã— âˆ‡L(Î¼)
                        <br>å…¶ä¸­Î±æ˜¯å­¦ä¹ ç‡ï¼Œâˆ‡L(Î¼)æ˜¯ä¼¼ç„¶å‡½æ•°çš„æ¢¯åº¦
                    </div>
                    
                    <div class="gradient-info" id="newtonExplanation" style="display: none;">
                        <strong>ğŸ“ˆ ç‰›é¡¿æ³•ï¼š</strong>ä½¿ç”¨äºŒé˜¶å¯¼æ•°ä¿¡æ¯ï¼ˆHessiançŸ©é˜µï¼‰è¿›è¡Œæ›´å¿«çš„æ”¶æ•›
                        <br>æ›´æ–°å…¬å¼ï¼šÎ¼â‚™â‚‘w = Î¼â‚’â‚—d - [âˆ‡Â²L(Î¼)]â»Â¹ Ã— âˆ‡L(Î¼)
                        <br>æ”¶æ•›é€Ÿåº¦é€šå¸¸æ¯”æ¢¯åº¦ä¸‹é™æ›´å¿«ï¼Œä½†è®¡ç®—æˆæœ¬æ›´é«˜
                    </div>
                    
                    <div class="gradient-info" id="gridExplanation" style="display: none;">
                        <strong>ğŸ“ˆ ç½‘æ ¼æœç´¢ï¼š</strong>åœ¨å‚æ•°ç©ºé—´ä¸­ç³»ç»Ÿæ€§åœ°è¯„ä¼°å¤šä¸ªå€™é€‰å€¼
                        <br>ç®€å•ä½†å¯èƒ½è®¡ç®—æˆæœ¬é«˜ï¼Œé€‚åˆä½ç»´å‚æ•°ç©ºé—´
                        <br>ä¿è¯æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼ˆåœ¨æœç´¢èŒƒå›´å†…ï¼‰
                    </div>
                </div>

                <div class="formula">
                    <div id="formulaDisplay">
                        ä¼¼ç„¶å‡½æ•°: L(Î¼) = âˆáµ¢â‚Œâ‚â¿ (1/âˆš(2Ï€ÏƒÂ²)) Ã— exp(-(xáµ¢-Î¼)Â²/(2ÏƒÂ²))
                        <br><br>
                        å¯¹æ•°ä¼¼ç„¶: â„“(Î¼) = log L(Î¼) = -n/2Ã—log(2Ï€ÏƒÂ²) - Î£(xáµ¢-Î¼)Â²/(2ÏƒÂ²)
                    </div>
                </div>
            </div>

            <!-- Step 5: Final Result -->
            <div class="mle-step">
                <h3>æ­¥éª¤5ï¼šæœ€ç»ˆç»“æœ (Final Result)</h3>
                <div class="chart-container">
                    <canvas id="step5Chart" class="distribution-chart"></canvas>
                    <div class="highlight">
                        <strong>è¿™ä¸ªå‡å€¼ä½ç½®"æœ€å¤§åŒ–äº†ä¼¼ç„¶æ€§"</strong><br>
                        å› æ­¤ï¼Œå®ƒæ˜¯"å‡å€¼çš„æœ€å¤§ä¼¼ç„¶ä¼°è®¡"
                    </div>
                    <div id="finalResult" class="highlight" style="background: #e3f2fd; margin-top: 20px;">
                        <strong>ğŸ¥ åŒ»å­¦è¯Šæ–­ç»“è®ºï¼š</strong><br>
                        æœ€å¤§ä¼¼ç„¶ä¼°è®¡è¡¨æ˜ï¼Œè¡€å‹ä»ªå™¨çš„å¹³å‡è¯¯å·®çº¦ä¸º <strong id="estimatedMean">+2.79</strong> mmHgï¼Œ
                        è¯´æ˜ä»ªå™¨å­˜åœ¨ç³»ç»Ÿæ€§åé«˜ï¼Œéœ€è¦æ ¡å‡†ã€‚
                        <br><br>
                        <strong>ä¼˜åŒ–è¿‡ç¨‹æ€»ç»“ï¼š</strong>
                        <div id="optimizationSummary">ç­‰å¾…ä¼˜åŒ–å®Œæˆ...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Mathematical Formula -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">æ•°å­¦å…¬å¼ Mathematical Formula</span>
            </h2>
            <div class="formula">
                Î¸Ì‚<sup>MLE</sup> = arg max L(Î¸ | è§‚å¯Ÿæ•°æ®)
                <br><br>
                å®é™…åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨å¯¹æ•°ä¼¼ç„¶ï¼š
                <br>
                Î¸Ì‚<sup>MLE</sup> = arg max log L(Î¸ | è§‚å¯Ÿæ•°æ®)
            </div>
            <div class="explanation">
                <p>åœ¨æˆ‘ä»¬çš„è¡€å‹ä»ªå™¨ä¾‹å­ä¸­ï¼Œé€šè¿‡æœ€å¤§ä¼¼ç„¶ä¼°è®¡ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†æœ€èƒ½è§£é‡Šè§‚å¯Ÿåˆ°çš„æµ‹é‡è¯¯å·®æ•°æ®çš„å‚æ•°å€¼ã€‚</p>
            </div>
        </div>

        <!-- Key Differences -->
        <div class="section">
            <h2 class="concept-title">
                <span class="keyword">å…³é”®åŒºåˆ« Key Differences</span>
            </h2>
            <div class="explanation">
                <table style="width:100%; border-collapse: collapse; margin-top: 20px;">
                    <tr style="background-color: #3498db; color: white;">
                        <th style="padding: 15px; border: 1px solid #ddd;">æ–¹é¢</th>
                        <th style="padding: 15px; border: 1px solid #ddd;">æ¦‚ç‡ Probability</th>
                        <th style="padding: 15px; border: 1px solid #ddd;">ä¼¼ç„¶æ€§ Likelihood</th>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #ddd; font-weight: bold;">å·²çŸ¥æ¡ä»¶</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">å‚æ•°å·²çŸ¥ï¼ˆå¦‚ä»ªå™¨çš„çœŸå®ç²¾åº¦ï¼‰</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">è§‚å¯Ÿæ•°æ®å·²çŸ¥ï¼ˆå®é™…æµ‹é‡ç»“æœï¼‰</td>
                    </tr>
                    <tr style="background-color: #f8f9fa;">
                        <td style="padding: 12px; border: 1px solid #ddd; font-weight: bold;">æ±‚è§£ç›®æ ‡</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">é¢„æµ‹æœªæ¥å¯èƒ½çš„æµ‹é‡ç»“æœ</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">æ¨æ–­æœ€å¯èƒ½çš„ä»ªå™¨å‚æ•°</td>
                    </tr>
                    <tr>
                        <td style="padding: 12px; border: 1px solid #ddd; font-weight: bold;">åŒ»å­¦åº”ç”¨</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">"è¿™ä¸ªä»ªå™¨æœ‰å¤šå¤§å¯èƒ½æµ‹å‡ºÂ±2mmHgçš„è¯¯å·®ï¼Ÿ"</td>
                        <td style="padding: 12px; border: 1px solid #ddd;">"è§‚å¯Ÿåˆ°+3mmHgè¯¯å·®ï¼Œä»ªå™¨çš„çœŸå®åå·®æœ€å¯èƒ½æ˜¯å¤šå°‘ï¼Ÿ"</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Sample data for blood pressure measurement errors
        const sampleData = [1.2, 2.8, 3.1, 2.5, 3.7, 2.9, 3.2, 2.1, 3.8, 2.6];
        const trueMean = sampleData.reduce((a, b) => a + b, 0) / sampleData.length;
        const std = 2.5; // Known standard deviation

        // Optimization state
        let optimizationState = {
            currentMean: -1.0,
            targetMean: trueMean,
            stepCount: 0,
            isRunning: false,
            method: 'analytical',
            history: [],
            learningRate: 0.1
        };

        // Normal distribution function
        function normalPDF(x, mean, std) {
            return (1 / (std * Math.sqrt(2 * Math.PI))) * 
                   Math.exp(-0.5 * Math.pow((x - mean) / std, 2));
        }

        // Log-likelihood function
        function logLikelihood(mean, data, std) {
            let logL = 0;
            for (let x of data) {
                logL += Math.log(normalPDF(x, mean, std));
            }
            return logL;
        }

        // Gradient of log-likelihood
        function logLikelihoodGradient(mean, data, std) {
            let gradient = 0;
            for (let x of data) {
                gradient += (x - mean) / (std * std);
            }
            return gradient;
        }

        // Second derivative (Hessian) of log-likelihood
        function logLikelihoodHessian(data, std) {
            return -data.length / (std * std);
        }

        // Draw normal distribution curve
        function drawNormalCurve(canvas, mean, std, highlightRange = null) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Set up coordinate system
            const xMin = mean - 4 * std;
            const xMax = mean + 4 * std;
            const xRange = xMax - xMin;
            const yMax = normalPDF(mean, mean, std);
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            
            // Y-axis
            const xAxisPos = width * (0 - xMin) / xRange;
            if (xAxisPos >= 0 && xAxisPos <= width) {
                ctx.beginPath();
                ctx.moveTo(xAxisPos, 0);
                ctx.lineTo(xAxisPos, height - 50);
                ctx.stroke();
            }
            
            // X-axis
            ctx.beginPath();
            ctx.moveTo(0, height - 50);
            ctx.lineTo(width, height - 50);
            ctx.stroke();
            
            // Draw curve
            ctx.strokeStyle = '#3498db';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let i = 0; i <= width; i++) {
                const x = xMin + (i / width) * xRange;
                const y = normalPDF(x, mean, std);
                const screenY = height - 50 - (y / yMax) * (height - 100);
                
                if (i === 0) {
                    ctx.moveTo(i, screenY);
                } else {
                    ctx.lineTo(i, screenY);
                }
            }
            ctx.stroke();
            
            // Highlight range if specified
            if (highlightRange) {
                ctx.fillStyle = 'rgba(231, 76, 60, 0.3)';
                ctx.beginPath();
                const startX = Math.max(0, (highlightRange[0] - xMin) / xRange * width);
                const endX = Math.min(width, (highlightRange[1] - xMin) / xRange * width);
                
                ctx.moveTo(startX, height - 50);
                for (let i = startX; i <= endX; i++) {
                    const x = xMin + (i / width) * xRange;
                    const y = normalPDF(x, mean, std);
                    const screenY = height - 50 - (y / yMax) * (height - 100);
                    ctx.lineTo(i, screenY);
                }
                ctx.lineTo(endX, height - 50);
                ctx.closePath();
                ctx.fill();
            }
            
            // Draw x-axis labels
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            for (let x = Math.ceil(xMin); x <= Math.floor(xMax); x++) {
                const screenX = (x - xMin) / xRange * width;
                ctx.fillText(x + ' mmHg', screenX, height - 30);
            }
        }

        // Draw likelihood function
        function drawLikelihoodFunction(canvas, currentMean, showHistory = false) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Set up coordinate system for likelihood function
            const meanRange = 6;
            const meanMin = trueMean - meanRange/2;
            const meanMax = trueMean + meanRange/2;
            const meanRangeSize = meanMax - meanMin;
            
            // Calculate likelihood values across the range
            let maxLogL = -Infinity;
            let minLogL = Infinity;
            const likelihoodValues = [];
            
            for (let i = 0; i <= width; i++) {
                const testMean = meanMin + (i / width) * meanRangeSize;
                const logL = logLikelihood(testMean, sampleData, std);
                likelihoodValues.push({mean: testMean, logL: logL});
                maxLogL = Math.max(maxLogL, logL);
                minLogL = Math.min(minLogL, logL);
            }
            
            const logLRange = maxLogL - minLogL;
            
            // Draw axes
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, height - 50);
            ctx.lineTo(width, height - 50);
            ctx.stroke();
            
            // Draw likelihood function curve
            ctx.strokeStyle = '#95a5a6';
            ctx.lineWidth = 3;
            ctx.beginPath();
            
            for (let i = 0; i < likelihoodValues.length; i++) {
                const normalizedY = (likelihoodValues[i].logL - minLogL) / logLRange;
                const screenY = height - 50 - (normalizedY * (height - 100));
                
                if (i === 0) {
                    ctx.moveTo(i, screenY);
                } else {
                    ctx.lineTo(i, screenY);
                }
            }
            ctx.stroke();
            
            // Draw optimization history if requested
            if (showHistory && optimizationState.history.length > 0) {
                ctx.strokeStyle = 'rgba(231, 76, 60, 0.5)';
                ctx.lineWidth = 2;
                ctx.setLineDash([3, 3]);
                
                for (let i = 0; i < optimizationState.history.length - 1; i++) {
                    const point1 = optimizationState.history[i];
                    const point2 = optimizationState.history[i + 1];
                    
                    const x1 = ((point1.mean - meanMin) / meanRangeSize) * width;
                    const y1 = height - 50 - ((point1.logL - minLogL) / logLRange) * (height - 100);
                    const x2 = ((point2.mean - meanMin) / meanRangeSize) * width;
                    const y2 = height - 50 - ((point2.logL - minLogL) / logLRange) * (height - 100);
                    
                    ctx.beginPath();
                    ctx.moveTo(x1, y1);
                    ctx.lineTo(x2, y2);
                    ctx.stroke();
                }
                ctx.setLineDash([]);
            }
            
            // Draw current position
            const currentX = ((currentMean - meanMin) / meanRangeSize) * width;
            const currentLogL = logLikelihood(currentMean, sampleData, std);
            const currentY = height - 50 - ((currentLogL - minLogL) / logLRange) * (height - 100);
            
            ctx.fillStyle = '#e74c3c';
            ctx.beginPath();
            ctx.arc(currentX, currentY, 8, 0, 2 * Math.PI);
            ctx.fill();
            
            // Draw true optimum for reference
            const trueX = ((trueMean - meanMin) / meanRangeSize) * width;
            const trueLogL = logLikelihood(trueMean, sampleData, std);
            const trueY = height - 50 - ((trueLogL - minLogL) / logLRange) * (height - 100);
            
            ctx.fillStyle = '#27ae60';
            ctx.beginPath();
            ctx.arc(trueX, trueY, 6, 0, 2 * Math.PI);
            ctx.fill();
            
            // Draw labels
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            // X-axis labels
            for (let mean = Math.ceil(meanMin); mean <= Math.floor(meanMax); mean++) {
                const screenX = ((mean - meanMin) / meanRangeSize) * width;
                ctx.fillText(mean.toFixed(1), screenX, height - 30);
            }
            
            // Title and legend
            ctx.font = '14px Arial';
            ctx.fillText('å¯¹æ•°ä¼¼ç„¶å‡½æ•° Log-Likelihood Function', width/2, 20);
            
            // Legend
            ctx.font = '10px Arial';
            ctx.fillStyle = '#e74c3c';
            ctx.fillRect(10, 40, 15, 10);
            ctx.fillStyle = '#333';
            ctx.textAlign = 'left';
            ctx.fillText('å½“å‰ä½ç½®', 30, 49);
            
            ctx.fillStyle = '#27ae60';
            ctx.fillRect(10, 55, 15, 10);
            ctx.fillStyle = '#333';
            ctx.fillText('çœŸå®æœ€ä¼˜è§£', 30, 64);
        }

        // Initialize charts
        function initCharts() {
            const canvases = ['probabilityChart', 'likelihoodChart', 'step1Chart', 'step2Chart', 'step3Chart', 'likelihoodFunction', 'step5Chart'];
            
            // Set canvas dimensions
            canvases.forEach(canvasId => {
                const canvas = document.getElementById(canvasId);
                if (canvas) {
                    canvas.width = canvas.offsetWidth;
                    canvas.height = 300;
                }
            });
            
            // Draw probability chart
            const probabilityCanvas = document.getElementById('probabilityChart');
            drawNormalCurve(probabilityCanvas, 0, 2.5, [-2, 2]);
            
            // Draw initial likelihood chart
            updateLikelihoodChart();
            
            // Draw MLE process charts
            drawMLEProcessCharts();
            
            // Initialize optimization display
            resetOptimization();
        }

        // Draw MLE process charts
        function drawMLEProcessCharts() {
            const step1Canvas = document.getElementById('step1Chart');
            const step2Canvas = document.getElementById('step2Chart');
            const step3Canvas = document.getElementById('step3Chart');
            const step5Canvas = document.getElementById('step5Chart');
            
            if (step1Canvas) {
                drawDataPointsOnly(step1Canvas);
            }
            
            if (step2Canvas) {
                drawNormalCurveWithData(step2Canvas, 0, std);
            }
            
            if (step3Canvas) {
                drawNormalCurveWithData(step3Canvas, trueMean, std);
            }
            
            if (step5Canvas) {
                drawNormalCurveWithData(step5Canvas, trueMean, std, true);
                document.getElementById('estimatedMean').textContent = '+' + trueMean.toFixed(2);
            }
        }

        // Draw only data points
        function drawDataPointsOnly(canvas) {
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            
            ctx.clearRect(0, 0, width, height);
            
            // Draw x-axis
            ctx.strokeStyle = '#ddd';
            ctx.lineWidth = 1;
            ctx.beginPath();
            ctx.moveTo(0, height - 50);
            ctx.lineTo(width, height - 50);
            ctx.stroke();
            
            // Set up coordinate system based on data range
            const dataMin = Math.min(...sampleData) - 1;
            const dataMax = Math.max(...sampleData) + 1;
            const dataRange = dataMax - dataMin;
            
            // Draw sample data points
            ctx.fillStyle = '#e74c3c';
            sampleData.forEach(dataPoint => {
                const pointX = ((dataPoint - dataMin) / dataRange) * width;
                const pointY = height - 50;
                
                ctx.beginPath();
                ctx.arc(pointX, pointY - 10, 6, 0, 2 * Math.PI);
                ctx.fill();
            });
            
            // Draw x-axis labels
            ctx.fillStyle = '#333';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            
            for (let x = Math.ceil(dataMin); x <= Math.floor(dataMax); x++) {
                const screenX = ((x - dataMin) / dataRange) * width;
                ctx.fillText(x + ' mmHg', screenX, height - 30);
            }
        }

        // Draw normal curve with data points
        function drawNormalCurveWithData(canvas, mean, std, highlight = false) {
            drawNormalCurve(canvas, mean, std);
            
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const xMin = mean - 4 * std;
            const xMax = mean + 4 * std;
            const xRange = xMax - xMin;
            const yMax = normalPDF(mean, mean, std);
            
            // Draw sample data points
            ctx.fillStyle = '#e74c3c';
            sampleData.forEach(dataPoint => {
                const pointX = (dataPoint - xMin) / xRange * width;
                const pointY = normalPDF(dataPoint, mean, std);
                const screenY = height - 50 - (pointY / yMax) * (height - 100);
                
                ctx.beginPath();
                ctx.arc(pointX, height - 50, 6, 0, 2 * Math.PI);
                ctx.fill();
                
                // Draw vertical line to curve if highlighting
                if (highlight) {
                    ctx.strokeStyle = 'rgba(231, 76, 60, 0.5)';
                    ctx.lineWidth = 1;
                    ctx.setLineDash([3, 3]);
                    ctx.beginPath();
                    ctx.moveTo(pointX, height - 50);
                    ctx.lineTo(pointX, screenY);
                    ctx.stroke();
                    ctx.setLineDash([]);
                }
            });
            
            if (highlight) {
                // Draw mean line
                const meanX = (mean - xMin) / xRange * width;
                ctx.strokeStyle = '#2c3e50';
                ctx.lineWidth = 3;
                ctx.setLineDash([5, 5]);
                ctx.beginPath();
                ctx.moveTo(meanX, 0);
                ctx.lineTo(meanX, height - 50);
                ctx.stroke();
                ctx.setLineDash([]);
            }
        }

        // Update likelihood chart based on slider
        function updateLikelihoodChart() {
            const canvas = document.getElementById('likelihoodChart');
            const meanSlider = document.getElementById('meanSlider');
            const meanValue = document.getElementById('meanValue');
            const likelihoodValue = document.getElementById('likelihoodValue');
            
            const mean = parseFloat(meanSlider.value);
            meanValue.textContent = mean.toFixed(1);
            
            drawNormalCurve(canvas, mean, std);
            
            // Draw observed data point
            const observedValue = 3;
            const width = canvas.width;
            const height = canvas.height;
            const xMin = mean - 4 * std;
            const xMax = mean + 4 * std;
            const xRange = xMax - xMin;
            
            const pointX = (observedValue - xMin) / xRange * width;
            const pointY = normalPDF(observedValue, mean, std);
            const yMax = normalPDF(mean, mean, std);
            const screenY = height - 50 - (pointY / yMax) * (height - 100);
            
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = '#e74c3c';
            ctx.beginPath();
            ctx.arc(pointX, screenY, 8, 0, 2 * Math.PI);
            ctx.fill();
            
            // Update likelihood value
            const likelihood = normalPDF(observedValue, mean, std);
            likelihoodValue.textContent = likelihood.toFixed(3);
        }

        // Reset optimization
        function resetOptimization() {
            optimizationState = {
                currentMean: -1.0,
                targetMean: trueMean,
                stepCount: 0,
                isRunning: false,
                method: document.getElementById('optimizationMethod').value,
                history: [],
                learningRate: 0.1,
                tolerance: 1e-6
            };
            
            // Add initial point to history
            optimizationState.history.push({
                mean: optimizationState.currentMean,
                logL: logLikelihood(optimizationState.currentMean, sampleData, std),
                gradient: logLikelihoodGradient(optimizationState.currentMean, sampleData, std)
            });
            
            updateOptimizationDisplay();
            updateMethodExplanation();
            
            // Enable/disable buttons
            document.getElementById('stepBtn').disabled = false;
            document.getElementById('autoBtn').disabled = false;
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('autoBtn').style.display = 'inline-block';
        }

        // Step optimization
        function stepOptimization() {
            if (hasConverged()) {
                updateOptimizationDisplay();
                return;
            }
            
            const method = optimizationState.method;
            let newMean = optimizationState.currentMean;
            
            switch (method) {
                case 'analytical':
                    // Analytical solution: sample mean
                    newMean = sampleData.reduce((a, b) => a + b, 0) / sampleData.length;
                    break;
                    
                case 'gradient':
                    // Gradient descent
                    const gradient = logLikelihoodGradient(optimizationState.currentMean, sampleData, std);
                    newMean = optimizationState.currentMean + optimizationState.learningRate * gradient;
                    break;
                    
                case 'newton':
                    // Newton's method
                    const grad = logLikelihoodGradient(optimizationState.currentMean, sampleData, std);
                    const hess = logLikelihoodHessian(sampleData, std);
                    newMean = optimizationState.currentMean - grad / hess;
                    break;
                    
                case 'grid':
                    // Grid search - move towards better likelihood
                    const currentLogL = logLikelihood(optimizationState.currentMean, sampleData, std);
                    const step = 0.2;
                    const candidates = [
                        optimizationState.currentMean - step,
                        optimizationState.currentMean + step
                    ];
                    
                    let bestMean = optimizationState.currentMean;
                    let bestLogL = currentLogL;
                    
                    for (let candidate of candidates) {
                        const logL = logLikelihood(candidate, sampleData, std);
                        if (logL > bestLogL) {
                            bestLogL = logL;
                            bestMean = candidate;
                        }
                    }
                    newMean = bestMean;
                    break;
            }
            
            optimizationState.currentMean = newMean;
            optimizationState.stepCount++;
            
            // Add to history
            optimizationState.history.push({
                mean: optimizationState.currentMean,
                logL: logLikelihood(optimizationState.currentMean, sampleData, std),
                gradient: logLikelihoodGradient(optimizationState.currentMean, sampleData, std)
            });
            
            updateOptimizationDisplay();
            
            // Check convergence
            if (hasConverged()) {
                document.getElementById('stepBtn').disabled = true;
                updateFinalSummary();
            }
        }

        // Auto optimization
        function autoOptimization() {
            optimizationState.isRunning = true;
            document.getElementById('autoBtn').style.display = 'none';
            document.getElementById('pauseBtn').style.display = 'inline-block';
            document.getElementById('stepBtn').disabled = true;
            
            function autoStep() {
                if (!optimizationState.isRunning || hasConverged()) {
                    pauseOptimization();
                    return;
                }
                
                stepOptimization();
                setTimeout(autoStep, 500); // 500ms delay between steps
            }
            
            autoStep();
        }

        // Pause optimization
        function pauseOptimization() {
            optimizationState.isRunning = false;
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('autoBtn').style.display = 'inline-block';
            document.getElementById('stepBtn').disabled = hasConverged();
        }

        // Check convergence
        function hasConverged() {
            if (optimizationState.method === 'analytical') {
                return optimizationState.stepCount >= 1;
            }
            
            if (optimizationState.history.length < 2) return false;
            
            const current = optimizationState.history[optimizationState.history.length - 1];
            const previous = optimizationState.history[optimizationState.history.length - 2];
            
            const meanChange = Math.abs(current.mean - previous.mean);
            const gradientMagnitude = Math.abs(current.gradient);
            
            return meanChange < optimizationState.tolerance || gradientMagnitude < optimizationState.tolerance;
        }

        // Update optimization display
        function updateOptimizationDisplay() {
            const canvas = document.getElementById('likelihoodFunction');
            drawLikelihoodFunction(canvas, optimizationState.currentMean, true);
            
            const currentPoint = optimizationState.history[optimizationState.history.length - 1];
            
            document.getElementById('currentStep').textContent = 
                `æ­¥éª¤ ${optimizationState.stepCount}: ${getMethodName(optimizationState.method)}`;
                
            document.getElementById('currentValues').textContent = 
                `å½“å‰å‚æ•°å€¼: Î¼ = ${currentPoint.mean.toFixed(4)}, å¯¹æ•°ä¼¼ç„¶æ€§ = ${currentPoint.logL.toFixed(4)}`;
                
            document.getElementById('gradientInfo').textContent = 
                `æ¢¯åº¦: âˆ‡â„“(Î¼) = ${currentPoint.gradient.toFixed(4)}`;
                
            document.getElementById('convergenceInfo').textContent = 
                hasConverged() ? 'âœ… å·²æ”¶æ•›ï¼' : 'ğŸ”„ ç»§ç»­ä¼˜åŒ–...';
        }

        // Get method name in Chinese
        function getMethodName(method) {
            const names = {
                'analytical': 'è§£æè§£æ³•',
                'gradient': 'æ¢¯åº¦ä¸‹é™æ³•',
                'newton': 'ç‰›é¡¿æ³•',
                'grid': 'ç½‘æ ¼æœç´¢'
            };
            return names[method] || method;
        }

        // Update method explanation
        function updateMethodExplanation() {
            // Hide all explanations
            ['analytical', 'gradient', 'newton', 'grid'].forEach(method => {
                document.getElementById(method + 'Explanation').style.display = 'none';
            });
            
            // Show current method explanation
            const currentMethod = document.getElementById('optimizationMethod').value;
            document.getElementById(currentMethod + 'Explanation').style.display = 'block';
        }

        // Update final summary
        function updateFinalSummary() {
            const finalMean = optimizationState.currentMean;
            const steps = optimizationState.stepCount;
            const method = getMethodName(optimizationState.method);
            
            document.getElementById('optimizationSummary').innerHTML = 
                `ä½¿ç”¨<strong>${method}</strong>ç»è¿‡<strong>${steps}</strong>æ­¥ä¼˜åŒ–ï¼Œ<br>` +
                `æœ€ç»ˆä¼°è®¡å€¼ï¼šÎ¼Ì‚ = ${finalMean.toFixed(4)} mmHg<br>` +
                `çœŸå®æ ·æœ¬å‡å€¼ï¼š${trueMean.toFixed(4)} mmHg<br>` +
                `ä¼°è®¡è¯¯å·®ï¼š${Math.abs(finalMean - trueMean).toFixed(4)} mmHg`;
        }

        // Event listeners
        document.getElementById('meanSlider').addEventListener('input', updateLikelihoodChart);
        document.getElementById('optimizationMethod').addEventListener('change', function() {
            resetOptimization();
        });

        // Initialize when page loads
        window.addEventListener('load', initCharts);
        window.addEventListener('resize', initCharts);
    </script>
</body>
</html>