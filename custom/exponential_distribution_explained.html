<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŒ‡æ•°åˆ†å¸ƒè¯¦è§£</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #4a5568;
            font-size: 2.8em;
            margin-bottom: 15px;
        }
        .subtitle {
            text-align: center;
            color: #718096;
            font-size: 1.3em;
            margin-bottom: 40px;
        }
        .chart-container {
            background: #f8fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            border: 2px solid #e2e8f0;
        }
        .chart-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 40px;
            margin: 25px 0;
            flex-wrap: wrap;
        }
        .control-group {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            min-width: 180px;
            text-align: center;
        }
        .control-label {
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 10px;
            display: block;
            font-size: 1.1em;
        }
        .slider {
            width: 100%;
            margin: 15px 0;
            height: 8px;
            border-radius: 5px;
            background: #e2e8f0;
            outline: none;
            -webkit-appearance: none;
        }
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }
        .value-display {
            font-size: 1.3em;
            color: #667eea;
            font-weight: bold;
            margin-top: 10px;
        }
        .formula-box {
            background: linear-gradient(135deg, #1a202c, #2d3748);
            color: #e2e8f0;
            padding: 25px;
            border-radius: 15px;
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            margin: 25px 0;
            text-align: center;
            border: 3px solid #4a5568;
        }
        .formula-title {
            color: #68d391;
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .param-highlight {
            color: #fbb6ce;
            font-weight: bold;
        }
        .result-highlight {
            color: #90cdf4;
            font-weight: bold;
        }
        .examples-section {
            background: linear-gradient(135deg, #f0fff4, #c6f6d5);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #68d391;
        }
        .examples-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #2f855a;
            margin-bottom: 20px;
            text-align: center;
        }
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .example-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .example-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border-color: #68d391;
        }
        .example-icon {
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 10px;
        }
        .example-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 10px;
            text-align: center;
        }
        .example-desc {
            color: #4a5568;
            text-align: center;
            margin-bottom: 15px;
        }
        .example-lambda {
            background: #f7fafc;
            padding: 8px;
            border-radius: 6px;
            font-family: 'Courier New', monospace;
            color: #667eea;
            font-weight: bold;
            text-align: center;
        }
        .properties-section {
            background: linear-gradient(135deg, #e6fffa, #b2f5ea);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #4fd1c7;
        }
        .properties-title {
            font-size: 1.5em;
            font-weight: bold;
            color: #234e52;
            margin-bottom: 20px;
            text-align: center;
        }
        .property-item {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            border-left: 5px solid #4fd1c7;
        }
        .property-name {
            font-weight: bold;
            color: #2d3748;
            margin-bottom: 5px;
        }
        .property-formula {
            font-family: 'Courier New', monospace;
            color: #4a5568;
            background: #f7fafc;
            padding: 8px;
            border-radius: 4px;
            margin-top: 8px;
        }
        .memoryless-demo {
            background: linear-gradient(135deg, #fed7d7, #fc8181);
            color: #742a2a;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 2px solid #f56565;
        }
        .demo-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
        .demo-explanation {
            background: rgba(255,255,255,0.8);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-box {
            background: white;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 2px solid #e2e8f0;
        }
        .stat-label {
            font-weight: bold;
            color: #4a5568;
            margin-bottom: 8px;
        }
        .stat-value {
            font-size: 1.3em;
            color: #667eea;
            font-family: 'Courier New', monospace;
            font-weight: bold;
        }
        .interpretation {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }
        .interpretation-title {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“‰ æŒ‡æ•°åˆ†å¸ƒè¯¦è§£</h1>
        <p class="subtitle">ç†è§£"æ— è®°å¿†æ€§"çš„ç»å…¸åˆ†å¸ƒ</p>
        
        <!-- äº¤äº’å¼å›¾è¡¨ -->
        <div class="chart-container">
            <div class="chart-title">ğŸ›ï¸ äº¤äº’å¼æŒ‡æ•°åˆ†å¸ƒ</div>
            <div class="controls">
                <div class="control-group">
                    <label class="control-label">ç‡å‚æ•° Î» (lambda)</label>
                    <input type="range" class="slider" id="lambdaSlider" min="0.1" max="3" step="0.1" value="1">
                    <div class="value-display" id="lambdaValue">1.0</div>
                </div>
            </div>
            <canvas id="exponentialChart" width="800" height="400"></canvas>
            
            <!-- å®æ—¶ç»Ÿè®¡ -->
            <div class="stats-grid">
                <div class="stat-box">
                    <div class="stat-label">æœŸæœ›å€¼ E[X]</div>
                    <div class="stat-value" id="meanValue">1.000</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">æ–¹å·® Var[X]</div>
                    <div class="stat-value" id="varianceValue">1.000</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">æ ‡å‡†å·® Ïƒ</div>
                    <div class="stat-value" id="stdValue">1.000</div>
                </div>
                <div class="stat-box">
                    <div class="stat-label">ä¸­ä½æ•°</div>
                    <div class="stat-value" id="medianValue">0.693</div>
                </div>
            </div>
        </div>

        <!-- æ•°å­¦å…¬å¼ -->
        <div class="formula-box">
            <div class="formula-title">ğŸ“ æ•°å­¦å®šä¹‰</div>
            <div style="margin: 15px 0;">
                <strong>æ¦‚ç‡å¯†åº¦å‡½æ•° (PDF):</strong><br>
                f(x; <span class="param-highlight">Î»</span>) = <span class="param-highlight">Î»</span> Ã— e^(-<span class="param-highlight">Î»</span>x), &nbsp;&nbsp; x â‰¥ 0
            </div>
            <div style="margin: 15px 0;">
                <strong>ç´¯ç§¯åˆ†å¸ƒå‡½æ•° (CDF):</strong><br>
                F(x; <span class="param-highlight">Î»</span>) = 1 - e^(-<span class="param-highlight">Î»</span>x), &nbsp;&nbsp; x â‰¥ 0
            </div>
            <div style="margin: 15px 0;">
                å…¶ä¸­ <span class="param-highlight">Î» > 0</span> æ˜¯ç‡å‚æ•°ï¼ˆå‘ç”Ÿç‡ï¼‰
            </div>
        </div>

        <!-- ç°å®ä¾‹å­ -->
        <div class="examples-section">
            <div class="examples-title">ğŸŒ ç°å®ä¸–ç•Œä¸­çš„æŒ‡æ•°åˆ†å¸ƒ</div>
            <div class="examples-grid">
                <div class="example-card" onclick="setLambda(2.0)">
                    <div class="example-icon">ğŸšŒ</div>
                    <div class="example-title">å…¬äº¤è½¦ç­‰å¾…æ—¶é—´</div>
                    <div class="example-desc">é«˜å³°æœŸå…¬äº¤è½¦è¾ƒé¢‘ç¹</div>
                    <div class="example-lambda">Î» = 2.0 (æ¯åˆ†é’Ÿ2è¾†)</div>
                </div>
                <div class="example-card" onclick="setLambda(0.5)">
                    <div class="example-icon">â˜ï¸</div>
                    <div class="example-title">å®¢æœç”µè¯é—´éš”</div>
                    <div class="example-desc">å®¢æœä¸­å¿ƒæ¥åˆ°ç”µè¯çš„é—´éš”</div>
                    <div class="example-lambda">Î» = 0.5 (æ¯åˆ†é’Ÿ0.5ä¸ª)</div>
                </div>
                <div class="example-card" onclick="setLambda(0.1)">
                    <div class="example-icon">ğŸ’¡</div>
                    <div class="example-title">ç¯æ³¡å¯¿å‘½</div>
                    <div class="example-desc">ç”µå­è®¾å¤‡çš„ä½¿ç”¨å¯¿å‘½</div>
                    <div class="example-lambda">Î» = 0.1 (æ¯å¤©0.1æ¬¡æ•…éšœ)</div>
                </div>
                <div class="example-card" onclick="setLambda(1.5)">
                    <div class="example-icon">ğŸŒ§ï¸</div>
                    <div class="example-title">é›¨æ»´é—´éš”</div>
                    <div class="example-desc">é›¨æ»´è½ä¸‹çš„æ—¶é—´é—´éš”</div>
                    <div class="example-lambda">Î» = 1.5 (æ¯ç§’1.5æ»´)</div>
                </div>
                <div class="example-card" onclick="setLambda(0.3)">
                    <div class="example-icon">ğŸ”§</div>
                    <div class="example-title">æœºå™¨æ•…éšœ</div>
                    <div class="example-desc">å·¥ä¸šè®¾å¤‡çš„æ•…éšœé—´éš”</div>
                    <div class="example-lambda">Î» = 0.3 (æ¯å¤©0.3æ¬¡)</div>
                </div>
                <div class="example-card" onclick="setLambda(1.0)">
                    <div class="example-icon">ğŸ“§</div>
                    <div class="example-title">é‚®ä»¶åˆ°è¾¾</div>
                    <div class="example-desc">æ”¶åˆ°é‚®ä»¶çš„æ—¶é—´é—´éš”</div>
                    <div class="example-lambda">Î» = 1.0 (æ¯å°æ—¶1å°)</div>
                </div>
            </div>
        </div>

        <!-- å…³é”®æ€§è´¨ -->
        <div class="properties-section">
            <div class="properties-title">ğŸ”‘ æŒ‡æ•°åˆ†å¸ƒçš„å…³é”®æ€§è´¨</div>
            
            <div class="property-item">
                <div class="property-name">1. æ— è®°å¿†æ€§ (Memoryless Property)</div>
                <div>æŒ‡æ•°åˆ†å¸ƒæœ€é‡è¦çš„ç‰¹å¾ï¼šæœªæ¥çš„ç­‰å¾…æ—¶é—´ä¸å·²ç»ç­‰å¾…çš„æ—¶é—´æ— å…³</div>
                <div class="property-formula">P(X > s + t | X > s) = P(X > t)</div>
            </div>
            
            <div class="property-item">
                <div class="property-name">2. æœŸæœ›å€¼å’Œæ–¹å·®ç›¸ç­‰</div>
                <div>å‡å€¼å’Œæ–¹å·®éƒ½ç­‰äº 1/Î»</div>
                <div class="property-formula">E[X] = Var[X] = 1/Î»</div>
            </div>
            
            <div class="property-item">
                <div class="property-name">3. å•è°ƒé€’å‡</div>
                <div>æ¦‚ç‡å¯†åº¦å‡½æ•°ä» Î» å¼€å§‹æŒ‡æ•°é€’å‡</div>
                <div class="property-formula">f(0) = Î», f(âˆ) = 0</div>
            </div>
            
            <div class="property-item">
                <div class="property-name">4. å°ºåº¦ä¸å˜æ€§</div>
                <div>å¦‚æœ X ~ Exp(Î»)ï¼Œé‚£ä¹ˆ cX ~ Exp(Î»/c)</div>
                <div class="property-formula">Scale property</div>
            </div>
        </div>

        <!-- æ— è®°å¿†æ€§æ¼”ç¤º -->
        <div class="memoryless-demo">
            <div class="demo-title">ğŸ§  æ— è®°å¿†æ€§è¯¦è§£</div>
            <div class="demo-explanation">
                <strong>åœºæ™¯ï¼š</strong>ä½ åœ¨ç­‰å…¬äº¤è½¦ï¼Œå·²ç»ç­‰äº†10åˆ†é’Ÿäº†...
                <br><br>
                <strong>âŒ é”™è¯¯æƒ³æ³•ï¼š</strong>"æˆ‘å·²ç»ç­‰äº†å¾ˆä¹…ï¼Œå…¬äº¤è½¦åº”è¯¥å¿«æ¥äº†"
                <br><br>
                <strong>âœ… æŒ‡æ•°åˆ†å¸ƒçš„çœŸç›¸ï¼š</strong>"æ— è®ºæˆ‘ç­‰äº†å¤šä¹…ï¼Œæ¥ä¸‹æ¥çš„ç­‰å¾…æ—¶é—´æœŸæœ›ä»ç„¶æ˜¯ 1/Î»"
                <br><br>
                è¿™å°±æ˜¯<strong>"æ— è®°å¿†æ€§"</strong>ï¼šè¿‡å»ä¸å½±å“æœªæ¥çš„æ¦‚ç‡åˆ†å¸ƒï¼
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.9); border-radius: 10px;">
                <strong>æ•°å­¦è¯æ˜ï¼š</strong><br>
                P(ç­‰å¾…æ—¶é—´ > 15åˆ†é’Ÿ | å·²ç­‰10åˆ†é’Ÿ) = P(ç­‰å¾…æ—¶é—´ > 5åˆ†é’Ÿ)<br>
                <em>æ¡ä»¶æ¦‚ç‡ç­‰äºåŸå§‹æ¦‚ç‡ï¼</em>
            </div>
        </div>

        <!-- å‚æ•°è§£é‡Š -->
        <div class="interpretation">
            <div class="interpretation-title">ğŸ¯ å‚æ•°Î»çš„ç›´è§‚ç†è§£</div>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <strong>Î» = å‘ç”Ÿç‡</strong><br>
                    Î» = 2 è¡¨ç¤ºå¹³å‡æ¯å•ä½æ—¶é—´å‘ç”Ÿ2æ¬¡äº‹ä»¶
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <strong>1/Î» = å¹³å‡é—´éš”</strong><br>
                    å¦‚æœÎ» = 2ï¼Œå¹³å‡é—´éš” = 0.5 å•ä½æ—¶é—´
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <strong>Î»è¶Šå¤§ â†’ æ›²çº¿è¶Šé™¡</strong><br>
                    äº‹ä»¶å‘ç”Ÿè¶Šé¢‘ç¹ï¼Œç­‰å¾…æ—¶é—´è¶ŠçŸ­
                </div>
                <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px;">
                    <strong>Î»è¶Šå° â†’ æ›²çº¿è¶Šå¹³</strong><br>
                    äº‹ä»¶å‘ç”Ÿè¶Šç¨€å°‘ï¼Œç­‰å¾…æ—¶é—´è¶Šé•¿
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 10px; text-align: center;">
                <strong>æ ¸å¿ƒå…¬å¼è®°å¿†æ³•ï¼š</strong><br>
                "Î»å¤§äº‹ä»¶å¿«ï¼Œ1/Î»æ˜¯æœŸæœ›" <br>
                <em>ç‡å‚æ•°å¤§åˆ™äº‹ä»¶é¢‘ç¹ï¼Œå€’æ•°æ˜¯å¹³å‡ç­‰å¾…æ—¶é—´</em>
            </div>
        </div>
    </div>

    <script>
        // æŒ‡æ•°åˆ†å¸ƒæ¦‚ç‡å¯†åº¦å‡½æ•°
        function exponentialPDF(x, lambda) {
            if (x < 0) return 0;
            return lambda * Math.exp(-lambda * x);
        }

        // æŒ‡æ•°åˆ†å¸ƒç´¯ç§¯åˆ†å¸ƒå‡½æ•°
        function exponentialCDF(x, lambda) {
            if (x < 0) return 0;
            return 1 - Math.exp(-lambda * x);
        }

        // ç”ŸæˆæŒ‡æ•°åˆ†å¸ƒæ•°æ®
        function generateExponentialData(lambda, maxX = 6, points = 300) {
            const data = [];
            const step = maxX / points;
            
            for (let x = 0; x <= maxX; x += step) {
                const y = exponentialPDF(x, lambda);
                data.push({ x: x, y: y });
            }
            
            return data;
        }

        // åˆå§‹åŒ–å›¾è¡¨
        const ctx = document.getElementById('exponentialChart').getContext('2d');
        let chart = new Chart(ctx, {
            type: 'line',
            data: {
                datasets: [{
                    label: 'PDF: f(x)',
                    data: generateExponentialData(1),
                    borderColor: '#667eea',
                    backgroundColor: 'rgba(102, 126, 234, 0.1)',
                    borderWidth: 3,
                    fill: true,
                    tension: 0.1,
                    pointRadius: 0
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: {
                            display: true,
                            text: 'x (æ—¶é—´)',
                            font: { size: 14, weight: 'bold' }
                        },
                        grid: { color: 'rgba(0,0,0,0.1)' },
                        min: 0,
                        max: 6
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'f(x) - æ¦‚ç‡å¯†åº¦',
                            font: { size: 14, weight: 'bold' }
                        },
                        grid: { color: 'rgba(0,0,0,0.1)' },
                        min: 0
                    }
                },
                plugins: {
                    legend: {
                        display: true,
                        position: 'top',
                        labels: { font: { size: 12, weight: 'bold' } }
                    },
                    tooltip: {
                        mode: 'nearest',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                return `f(${context.parsed.x.toFixed(2)}) = ${context.parsed.y.toFixed(4)}`;
                            }
                        }
                    }
                },
                animation: {
                    duration: 750,
                    easing: 'easeInOutQuart'
                }
            }
        });

        // æ›´æ–°å›¾è¡¨å’Œç»Ÿè®¡ä¿¡æ¯
        function updateChart() {
            const lambda = parseFloat(document.getElementById('lambdaSlider').value);
            
            // æ›´æ–°æ˜¾ç¤ºå€¼
            document.getElementById('lambdaValue').textContent = lambda.toFixed(1);
            
            // æ›´æ–°ç»Ÿè®¡å€¼
            const mean = 1 / lambda;
            const variance = 1 / (lambda * lambda);
            const std = 1 / lambda;
            const median = Math.log(2) / lambda;
            
            document.getElementById('meanValue').textContent = mean.toFixed(3);
            document.getElementById('varianceValue').textContent = variance.toFixed(3);
            document.getElementById('stdValue').textContent = std.toFixed(3);
            document.getElementById('medianValue').textContent = median.toFixed(3);
            
            // æ›´æ–°å›¾è¡¨æ•°æ®
            const newData = generateExponentialData(lambda);
            chart.data.datasets[0].data = newData;
            chart.data.datasets[0].label = `PDF: f(x) = ${lambda}e^(-${lambda}x)`;
            
            // åŠ¨æ€è°ƒæ•´Yè½´èŒƒå›´
            const maxY = lambda * 1.1;
            chart.options.scales.y.max = maxY;
            
            chart.update('none');
        }

        // è®¾ç½®ç‰¹å®šlambdaå€¼çš„å‡½æ•°
        function setLambda(value) {
            document.getElementById('lambdaSlider').value = value;
            updateChart();
            
            // æ·»åŠ è§†è§‰åé¦ˆ
            const slider = document.getElementById('lambdaSlider');
            slider.style.transform = 'scale(1.1)';
            setTimeout(() => {
                slider.style.transform = 'scale(1)';
            }, 200);
        }

        // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
        document.getElementById('lambdaSlider').addEventListener('input', updateChart);

        // åˆå§‹åŒ–
        updateChart();

        // ä¸ºç¤ºä¾‹å¡ç‰‡æ·»åŠ æ‚¬åœæ•ˆæœ
        document.querySelectorAll('.example-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
    </script>
</body>
</html>